{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?8acc","webpack:///./src/components/Header.vue?3005","webpack:///./src/components/FileSaver.js","webpack:///./src/views/SCARA.vue?5e4a","webpack:///./src/views/Home.vue?b8bf","webpack:///./src/App.vue?1ac8","webpack:///./src/components/Header.vue?f20f","webpack:///./src/components/Header.vue","webpack:///./src/components/Header.vue?6514","webpack:///./src/components/Header.vue?06f1","webpack:///./src/App.vue","webpack:///./src/App.vue?31c5","webpack:///./src/App.vue?68bd","webpack:///./src/views/Home.vue?c729","webpack:///./src/ScaraConverter.ts","webpack:///./src/components/ScaraSim3D.vue?eedc","webpack:///./src/components/ScaraSim3D.vue","webpack:///./src/components/ScaraSim3D.vue?63a6","webpack:///./src/components/ScaraSim3D.vue?54c0","webpack:///./src/components/TextToGcode.vue?d858","webpack:///./src/components/TextToGcode.vue","webpack:///./src/components/TextToGcode.vue?7471","webpack:///./src/components/TextToGcode.vue?4add","webpack:///./src/components/ImgToGcode.vue?e69c","webpack:///./src/components/adaptive-linearization/src/index.ts","webpack:///./src/components/ImgToGcode.vue","webpack:///./src/components/ImgToGcode.vue?ea88","webpack:///./src/components/ImgToGcode.vue?9d01","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?2352","webpack:///./src/views/Home.vue?b4c0","webpack:///./src/views/SCARA.vue?3054","webpack:///./src/views/SCARA.vue","webpack:///./src/views/SCARA.vue?81ee","webpack:///./src/views/SCARA.vue?62d7","webpack:///./src/components/ScaraSim.vue?1894","webpack:///./src/components/ScaraSim.vue","webpack:///./src/components/ScaraSim.vue?a023","webpack:///./src/components/ScaraSim.vue?5730","webpack:///./src/router.ts","webpack:///./src/store.ts","webpack:///./src/registerServiceWorker.ts","webpack:///./src/plugins/vuetify.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_global","self","global","bom","blob","opts","autoBom","test","type","Blob","String","fromCharCode","download","url","xhr","XMLHttpRequest","open","responseType","onload","saveAs","response","onerror","alert","send","corsEnabled","e","status","click","node","dispatchEvent","MouseEvent","evt","document","createEvent","initMouseEvent","isMacOSWebView","navigator","userAgent","HTMLAnchorElement","URL","webkitURL","a","createElement","rel","href","origin","location","target","createObjectURL","setTimeout","revokeObjectURL","msSaveOrOpenBlob","popup","title","body","innerText","force","isSafari","HTMLElement","safari","isChromeIOS","FileReader","reader","onloadend","replace","readAsDataURL","_vm","this","_h","$createElement","_c","_self","attrs","staticStyle","staticRenderFns","$vuetify","breakpoint","model","callback","$$v","drawer","expression","_l","navEntry","navIndex","on","$event","_v","_s","icon","_e","staticClass","extend","computed","navList","component","VBtn","VIcon","VList","VNavigationDrawer","VSpacer","VToolbar","VToolbarTitle","components","Header","VApp","VContent","_m","undefined","output_stream","attempting_to_connect","cancel_connect","serial_connect","nativeOn","indexOf","_k","keyCode","write_cmd_to_serial","recover_prev_cmd","cmd","origin_scara","write_serial","home_scara","jog_inc","$set","_n","Math","max","goto","goto_point","scara_conv","work_area_dim","entry","entryIndex","domProps","gcode_from_text","converted_gcode","send_converted_gcode","raw_gcode","regen_converted_gcode","send_buffer","write_next_in_buffer_to_serial","clear_buffer","saveGcode","load_gcode_file","x_offset","y_offset","gcodeParser","scara_default_props","L1","L2","a1_driver_teeth","a1_receiver_teeth","a1_steps_per_rev","a2_driver_teeth","a2_receiver_teeth","a2_secondary_receiver_teeth","a2_steps_per_rev","max_speed","x_estop_offset","y_estop_offset","error_reporter","inner_rad","skew","feed_rate","right_handed","max_seg_length","scara_props","gcode_cmd","move_pos","X","Y","Z","F","E","gcode_seg_index","gcode_seg","start","end","sqrt","a1","a2","next_pos","R","hypot","gamma","atan2","handedness","scara_pos","acos","PI","isNaN","console","log","parseFloat","toFixed","current_pos","cartesian_feedrate","b","travel_dist","x_dot","y_dot","c_dot","omega_c","omega_a","omega_b","omega","min","abs","round","scara_distance","map_cartesian_to_scara","ceil","Array","fill","map","_","interpolate","pos","newPos","hypAngle","next_cmd_str","cmd_list","next_cmd","parseLine","words","includes","rapid","parse_gcode_move","translate","mid_pos","cartesian_to_scara_feedrate","final_scara_pos","scara_feedrate","gcode_string","gcode_lines","split","reduce","agg","plot_scara_move","concat","join","z","path_str","props","Number","uploaded_gcode","a1_start_angle","a2_start_angle","a1_len","a2_len","path","methods","gen_path","prev_pt","pt_array","raw_line","pt","watch","x2","a1_x2","cos","a2_x2","y2","a1_y2","sin","a2_y2","mounted","$nextTick","VSlider","userText","fontSize","fontOptions","fontName","svgScaler","userInputDebounce","file","clearTimeout","textToGcode","load","err","font","raw_path","getPath","toPathData","path_chunks","lift_dist","gcode","lin_path","forEach","chunk","svgpath","unarc","gcode_cmds","svg_cmds","startpt","lineConsumer","x1","y1","al","iterate","svgPathIterator","$emit","canvas","getElementById","ctx","getContext","clearRect","offsetWidth","offsetHeight","lin_path_elem","Path2D","stroke","VSelect","VTextField","load_img_file","directives","rawName","imageSize","svgToGcode","gcodeScale","imageType","photoToSVG","scopedSlots","_u","fn","potraceParams","threshold","proxy","TAU","DEFAULT_OPTS","approximationScale","curve_distance_epsilon","curveColinearityEpsilon","curveAngleToleranceEpsilon","angleTolerance","recursionLimit","cuspLimit","consumer","segment","index","curX","curY","x","y","x3","y3","x4","y4","command","short","step","linearize","Error","svgcmd","prevX","prevY","assign","linearizeRecursive","level","da1","da2","k","distanceToleranceSquared","x12","y12","x23","y23","x34","y34","x123","y123","x234","y234","x1234","y1234","dx","dy","d2","d3","distanceTo","nextLevel","rawPhoto","rawSVG","turdSize","blackOnWhite","finalGcode","ev","toBlob","then","reducedFile","readAsArrayBuffer","readAsText","trace","svg","svgdoc","DOMParser","parseFromString","from","querySelectorAll","values","pathElem","rawPath","getAttribute","maxVals","setAttribute","VCheckbox","VFileInput","Ripple","async_wait","ms","Promise","resolve","ScaraSim3D","TextToGcode","ImgToGcode","last_resp","send_buffer_interval","$toast","color","send_log","send_log_index","recv_buffer","serial_log","regen_debounce","scara_gcode","convert_cartesian_to_scara","fold_up","log_len","async","next_rx","estop_resp","match","fold_up_cmd_lines","home_cmd_lines","cmd_lines","gcode_line_index","gcode_line","inc","read_serial","read","done","Date","now","releaseLock","unshift","writer","getWriter","write","serial","requestPort","port","port_open_error","baudRate","catch","encoder","TextEncoderStream","readable","pipeTo","writable","setInterval","decoder","TextDecoderStream","inputStream","getReader","L","notSupported","style","display","VExpansionPanel","VExpansionPanelContent","VExpansionPanelHeader","VExpansionPanels","VRow","scara","download_gcode","filename","element","encodeURIComponent","appendChild","removeChild","plotScara","width","height","padding","top","right","bottom","left","plot_area","select","$el","selectAll","remove","plotArea","append","attr","xAxis","scaleLinear","domain","range","axisBottom","yAxis","axisLeft","scale","use","routes","Home","SCARA","ScaraSim","router","base","Store","state","mutations","actions","ready","registered","cached","updatefound","updated","offline","error","showClose","config","productionTip","ignoredElements","store","vuetify","render","h","App","$mount"],"mappings":"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","file":"js/app.3caff517.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/jscara-console/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([1,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&id=71fb3f7b&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&id=71fb3f7b&scoped=true&lang=css&\"","/*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n*\n* By Eli Grey, http://eligrey.com\n*\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n* source  : http://purl.eligrey.com/github/FileSaver.js\n*/\n\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\n\n/* eslint-disable */\n\nvar _global = typeof window === 'object' && window.window === window\n  ? window : typeof self === 'object' && self.self === self\n  ? self : typeof global === 'object' && global.global === global\n  ? global\n  : this\n\nfunction bom (blob, opts) {\n  if (typeof opts === 'undefined') opts = { autoBom: false }\n  else if (typeof opts !== 'object') {\n    opts = { autoBom: !opts }\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\n  }\n  return blob\n}\n\nfunction download (url, name, opts) {\n  var xhr = new XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'blob'\n  xhr.onload = function () {\n    saveAs(xhr.response, name, opts)\n  }\n  xhr.onerror = function () {\n    alert('Error: could not download file!')\n  }\n  xhr.send()\n}\n\nfunction corsEnabled (url) {\n  var xhr = new XMLHttpRequest()\n  // use sync to avoid popup blocker\n  xhr.open('HEAD', url, false)\n  try {\n    xhr.send()\n  } catch (e) {}\n  return xhr.status >= 200 && xhr.status <= 299\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click (node) {\n  try {\n    node.dispatchEvent(new MouseEvent('click'))\n  } catch (e) {\n    var evt = document.createEvent('MouseEvents')\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\n                          20, false, false, false, false, 0, null)\n    node.dispatchEvent(evt)\n  }\n}\n\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nvar isMacOSWebView = /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent)\n\nvar saveAs = (\n  // probably in some web worker\n  (typeof window !== 'object' || window !== _global)\n    ? function saveAs () { /* noop */ }\n\n  // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView\n  : ('download' in HTMLAnchorElement.prototype && !isMacOSWebView)\n  ? function saveAs (blob, name, opts) {\n    var URL = _global.URL || _global.webkitURL\n    var a = document.createElement('a')\n    name = name || blob.name || 'download'\n\n    a.download = name\n    a.rel = 'noopener' // tabnabbing\n\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n\n    if (typeof blob === 'string') {\n      // Support regular links\n      a.href = blob\n      if (a.origin !== location.origin) {\n        corsEnabled(a.href)\n          ? download(blob, name, opts)\n          : click(a, a.target = '_blank')\n      } else {\n        click(a)\n      }\n    } else {\n      // Support blobs\n      a.href = URL.createObjectURL(blob)\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\n      setTimeout(function () { click(a) }, 0)\n    }\n  }\n\n  // Use msSaveOrOpenBlob as a second approach\n  : 'msSaveOrOpenBlob' in navigator\n  ? function saveAs (blob, name, opts) {\n    name = name || blob.name || 'download'\n\n    if (typeof blob === 'string') {\n      if (corsEnabled(blob)) {\n        download(blob, name, opts)\n      } else {\n        var a = document.createElement('a')\n        a.href = blob\n        a.target = '_blank'\n        setTimeout(function () { click(a) })\n      }\n    } else {\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\n    }\n  }\n\n  // Fallback to using FileReader and a popup\n  : function saveAs (blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank')\n    if (popup) {\n      popup.document.title =\n      popup.document.body.innerText = 'downloading...'\n    }\n\n    if (typeof blob === 'string') return download(blob, name, opts)\n\n    var force = blob.type === 'application/octet-stream'\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\n\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) && typeof FileReader !== 'undefined') {\n      // Safari doesn't allow downloading of blob URLs\n      var reader = new FileReader()\n      reader.onloadend = function () {\n        var url = reader.result\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\n        if (popup) popup.location.href = url\n        else location = url\n        popup = null // reverse-tabnabbing #460\n      }\n      reader.readAsDataURL(blob)\n    } else {\n      var URL = _global.URL || _global.webkitURL\n      var url = URL.createObjectURL(blob)\n      if (popup) popup.location = url\n      else location.href = url\n      popup = null // reverse-tabnabbing #460\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\n    }\n  }\n)\n\nexport default saveAs","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SCARA.vue?vue&type=style&index=0&id=56b51dc2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SCARA.vue?vue&type=style&index=0&id=56b51dc2&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{attrs:{\"dark\":\"\"}},[_c('Header'),_c('v-content',{staticStyle:{\"margin-top\":\"20px\"}},[_c('router-view')],1),_c('Footer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.$vuetify.breakpoint.xsOnly)?_c('v-navigation-drawer',{attrs:{\"clipped\":\"\",\"mobile-break-point\":\"600\",\"width\":\"180\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-list',{attrs:{\"shaped\":\"\"}},_vm._l((_vm.navList),function(navEntry,navIndex){return _c('v-list-tile',{key:navIndex,attrs:{\"to\":navEntry.url,\"draggable\":false},on:{\"click\":function($event){_vm.drawer = false}}},[(navEntry.icon)?_c('v-list-tile-action',{staticStyle:{\"margin-right\":\"0px\"}},[_c('v-icon',[_vm._v(_vm._s(navEntry.icon || \"grip-lines\"))])],1):_vm._e(),_c('v-list-tile-content',[_c('v-list-tile-title',{staticStyle:{\"font-size\":\"120%\"}},[_vm._v(\" \"+_vm._s(navEntry.name)+\" \")])],1)],1)}),1)],1):_vm._e(),_c('v-toolbar',[(_vm.$vuetify.breakpoint.xsOnly)?_c('span',[_c('div',{on:{\"click\":function($event){_vm.drawer = !_vm.drawer}}},[_c('v-icon',[_vm._v(\"fa-bars\")])],1)]):_vm._e(),_c('v-toolbar-title',{staticClass:\"headline\"},[_c('router-link',{staticClass:\"header-logo\",staticStyle:{\"text-decoration\":\"none\"},attrs:{\"to\":\"/\"}},[_c('span',[_vm._v(\"JSCARA\")])])],1),(_vm.$vuetify.breakpoint.smAndUp)?_c('v-spacer'):_vm._e(),(_vm.$vuetify.breakpoint.smAndUp)?_c('span',_vm._l((_vm.navList),function(navEntry,navIndex){return _c('v-btn',{key:navIndex,staticClass:\"header-nav\",attrs:{\"to\":navEntry.url}},[_c('span',{staticClass:\"mr-2\"},[_vm._v(_vm._s(navEntry.name))]),_c('v-icon',[_vm._v(\"fas \"+_vm._s(navEntry.icon))])],1)}),1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nexport default Vue.extend({\n\tdata() {\n\t\treturn {\n\t\t\tdrawer: false,\n\t\t};\n\t},\n\tcomputed: {\n\t\tnavList(): any {\n\t\t\tconst navList: any[] = [];\n\t\t\t//navList.push({ name: \"Genius\", icon: \"fa-user-cog\", url: \"/\" });\n\t\t\treturn navList;\n\t\t},\n\t},\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=71fb3f7b&scoped=true&\"\nimport script from \"./Header.vue?vue&type=script&lang=ts&\"\nexport * from \"./Header.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Header.vue?vue&type=style&index=0&id=71fb3f7b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71fb3f7b\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VIcon,VList,VNavigationDrawer,VSpacer,VToolbar,VToolbarTitle})\n","\n\n\n\n\n\n\n\n\n\n\nimport Header from \"@/components/Header.vue\";\nimport Vue from \"vue\";\nexport default Vue.extend({\n\tname: \"App\",\n\tcomponents: {\n\t\tHeader,\n\t},\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3a71feb6&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VContent } from 'vuetify/lib/components/VContent';\ninstallComponents(component, {VApp,VContent})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin-left\":\"24px\"},attrs:{\"id\":\"serial-pane\"}},[_vm._m(0),(_vm.reader === undefined || _vm.output_stream === undefined)?_c('div',[(!_vm.attempting_to_connect)?_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.serial_connect}},[_vm._v(\" Connect to SCARA \")]):_c('v-btn',{attrs:{\"color\":\"error\"},on:{\"click\":function($event){_vm.cancel_connect = true}}},[_vm._v(\" Cancel Connect to SCARA \")])],1):_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('v-text-field',{staticStyle:{\"max-width\":\"500px\",\"margin-right\":\"30px\"},attrs:{\"label\":\"GCODE Command\",\"outlined\":\"\",\"autocomplete\":\"off\"},nativeOn:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.write_cmd_to_serial($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"up\",38,$event.key,[\"Up\",\"ArrowUp\"])){ return null; }return _vm.recover_prev_cmd(1)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"down\",40,$event.key,[\"Down\",\"ArrowDown\"])){ return null; }return _vm.recover_prev_cmd(-1)}]},model:{value:(_vm.cmd),callback:function ($$v) {_vm.cmd=$$v},expression:\"cmd\"}}),_c('v-btn',{staticStyle:{\"transform\":\"scale(1.2)\"},on:{\"click\":_vm.write_cmd_to_serial}},[_vm._v(\" Send \")])],1),(!(_vm.reader === undefined || _vm.output_stream === undefined))?_c('div',[_c('v-btn',{staticStyle:{\"transform\":\"scale(0.85)\"},on:{\"click\":_vm.origin_scara}},[_vm._v(\" Origin \")]),_c('v-btn',{staticStyle:{\"transform\":\"scale(0.85)\"},on:{\"click\":function($event){return _vm.write_serial('G92 X0 Y0\\n')}}},[_vm._v(\" XY=0 \")]),_c('v-btn',{staticStyle:{\"transform\":\"scale(0.85)\"},on:{\"click\":function($event){return _vm.write_serial('G92 Z0\\n')}}},[_vm._v(\" Z=0 \")]),_c('v-btn',{staticStyle:{\"transform\":\"scale(0.85)\"},on:{\"click\":function($event){return _vm.write_serial('G92 X0 Y0 Z0\\n')}}},[_vm._v(\" XYZ=0 \")]),_c('br'),_c('v-btn',{staticStyle:{\"transform\":\"scale(0.85)\"},on:{\"click\":function($event){return _vm.write_serial('M18\\n')}}},[_vm._v(\" Release \")]),_c('v-btn',{staticStyle:{\"transform\":\"scale(0.85)\"},on:{\"click\":function($event){return _vm.write_serial('M410\\n')}}},[_vm._v(\" Quickstop \")]),_c('v-btn',{staticStyle:{\"transform\":\"scale(0.85)\"},on:{\"click\":function($event){return _vm.write_serial('M112\\n')}}},[_vm._v(\" E-Stop \")]),_c('br'),_c('v-btn',{staticStyle:{\"transform\":\"scale(0.85)\"},on:{\"click\":function($event){return _vm.home_scara()}}},[_vm._v(\" Home \")]),_c('v-btn',{staticStyle:{\"transform\":\"scale(0.85)\"},on:{\"click\":function($event){return _vm.home_scara(true)}}},[_vm._v(\" Fold-Up \")]),_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"stretch\"}},[_c('div',{staticClass:\"jog-box\"},[_c('div',{staticClass:\"jog-col\"},[_c('v-text-field',{staticStyle:{\"text-align\":\"center\"},attrs:{\"type\":\"number\",\"step\":\"5\"},model:{value:(_vm.jog_inc['x']),callback:function ($$v) {_vm.$set(_vm.jog_inc, 'x', _vm._n($$v))},expression:\"jog_inc['x']\"}}),_c('v-btn',{staticClass:\"jog-btn\",on:{\"click\":function($event){return _vm.write_serial('G91\\nG0 X' + _vm.jog_inc['x'] + '\\nG90\\n')}}},[_vm._v(\" +X \")]),_c('v-btn',{staticClass:\"jog-btn\",on:{\"click\":function($event){return _vm.write_serial('G91\\nG0 X-' + _vm.jog_inc['x'] + '\\nG90\\n')}}},[_vm._v(\" -X \")])],1),_c('div',{staticClass:\"jog-col\"},[_c('v-text-field',{staticStyle:{\"text-align\":\"center\"},attrs:{\"type\":\"number\",\"step\":\"5\"},model:{value:(_vm.jog_inc['y']),callback:function ($$v) {_vm.$set(_vm.jog_inc, 'y', _vm._n($$v))},expression:\"jog_inc['y']\"}}),_c('v-btn',{staticClass:\"jog-btn\",on:{\"click\":function($event){return _vm.write_serial('G91\\nG0 Y' + _vm.jog_inc['y'] + '\\nG90\\n')}}},[_vm._v(\" +Y \")]),_c('v-btn',{staticClass:\"jog-btn\",on:{\"click\":function($event){return _vm.write_serial('G91\\nG0 Y-' + _vm.jog_inc['y'] + '\\nG90\\n')}}},[_vm._v(\" -Y \")])],1),_c('div',{staticClass:\"jog-col\"},[_c('v-text-field',{staticStyle:{\"text-align\":\"center\"},attrs:{\"type\":\"number\",\"step\":\"5\"},model:{value:(_vm.jog_inc['z']),callback:function ($$v) {_vm.$set(_vm.jog_inc, 'z', _vm._n($$v))},expression:\"jog_inc['z']\"}}),_c('v-btn',{staticClass:\"jog-btn\",on:{\"click\":function($event){_vm.write_serial('G91\\nG0 Z' + Math.max(1, _vm.jog_inc['z']) + '\\nG90\\n')}}},[_vm._v(\" +Z \")]),_c('v-btn',{staticClass:\"jog-btn\",on:{\"click\":function($event){_vm.write_serial('G91\\nG0 Z-' + Math.max(1, _vm.jog_inc['z']) + '\\nG90\\n')}}},[_vm._v(\" -Z \")])],1)]),_c('div',{staticStyle:{\"width\":\"240px\",\"margin\":\"10px 20px\",\"padding\":\"16px 30px\",\"background-color\":\"#ffb8b8\",\"border-radius\":\"10px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"flex-direction\":\"column\"}},[_c('v-row',[_c('v-text-field',{staticStyle:{\"width\":\"100px\"},attrs:{\"type\":\"number\",\"label\":\"X Position\"},model:{value:(_vm.goto.x),callback:function ($$v) {_vm.$set(_vm.goto, \"x\", _vm._n($$v))},expression:\"goto.x\"}}),_c('div'),_c('v-text-field',{staticStyle:{\"width\":\"100px\"},attrs:{\"type\":\"number\",\"label\":\"Y Position\"},model:{value:(_vm.goto.y),callback:function ($$v) {_vm.$set(_vm.goto, \"y\", _vm._n($$v))},expression:\"goto.y\"}})],1),_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-btn',{on:{\"click\":_vm.goto_point}},[_vm._v(\"Go To\")])],1)],1)]),_c('v-text-field',{staticStyle:{\"width\":\"100px\"},attrs:{\"type\":\"number\",\"label\":\"X Offset\"},model:{value:(_vm.scara_conv.x_offset),callback:function ($$v) {_vm.$set(_vm.scara_conv, \"x_offset\", _vm._n($$v))},expression:\"scara_conv.x_offset\"}}),_c('v-text-field',{staticStyle:{\"width\":\"100px\"},attrs:{\"type\":\"number\",\"label\":\"Y Offset\"},model:{value:(_vm.scara_conv.y_offset),callback:function ($$v) {_vm.$set(_vm.scara_conv, \"y_offset\", _vm._n($$v))},expression:\"scara_conv.y_offset\"}}),_vm._v(\" Working Area: \"+_vm._s(_vm.work_area_dim)+\" x \"+_vm._s(_vm.work_area_dim)+\" \")],1):_vm._e(),_c('div',{staticStyle:{\"margin-top\":\"14px\",\"min-height\":\"40vh\",\"max-height\":\"60vh\",\"width\":\"90%\",\"overflow-y\":\"scroll\",\"border\":\"1px dotted #333\"}},_vm._l((_vm.serial_log),function(entry,entryIndex){return _c('span',{key:entryIndex,domProps:{\"innerHTML\":_vm._s(entry)}})}),0),_c('v-expansion-panels',[_c('v-expansion-panel',[_c('v-expansion-panel-header',{attrs:{\"color\":\"#333\"}},[_vm._v(\" Text  SCARA \")]),_c('v-expansion-panel-content',[_c('TextToGcode',{on:{\"gcodegen\":_vm.gcode_from_text}}),_c('br'),(_vm.converted_gcode.length > 0)?_c('v-btn',{on:{\"click\":_vm.send_converted_gcode}},[_vm._v(\" Send Converted GCODE \")]):_vm._e(),(_vm.raw_gcode.length > 0)?_c('v-btn',{on:{\"click\":_vm.regen_converted_gcode}},[_vm._v(\" Regen SCARA GCODE \")]):_vm._e(),(_vm.send_buffer.length > 0)?_c('v-btn',{on:{\"click\":_vm.write_next_in_buffer_to_serial}},[_vm._v(\" Unclog Stuck Buffer \")]):_vm._e(),(_vm.send_buffer.length > 0)?_c('v-btn',{on:{\"click\":_vm.clear_buffer}},[_vm._v(\" Clear Buffer \")]):_vm._e()],1)],1),_c('v-expansion-panel',[_c('v-expansion-panel-header',{attrs:{\"color\":\"#333\"}},[_vm._v(\" Image  SCARA \")]),_c('v-expansion-panel-content',[_c('ImgToGcode',{on:{\"gcodegen\":_vm.gcode_from_text}}),_c('br'),(_vm.converted_gcode.length > 0)?_c('v-btn',{on:{\"click\":_vm.send_converted_gcode}},[_vm._v(\" Send Converted GCODE \")]):_vm._e(),(_vm.raw_gcode.length > 0)?_c('v-btn',{on:{\"click\":_vm.regen_converted_gcode}},[_vm._v(\" Regen SCARA GCODE \")]):_vm._e(),(_vm.send_buffer.length > 0)?_c('v-btn',{on:{\"click\":_vm.write_next_in_buffer_to_serial}},[_vm._v(\" Unclog Stuck Buffer \")]):_vm._e(),(_vm.send_buffer.length > 0)?_c('v-btn',{on:{\"click\":_vm.clear_buffer}},[_vm._v(\" Clear Buffer \")]):_vm._e(),(_vm.converted_gcode.length > 0)?_c('v-btn',{on:{\"click\":function($event){return _vm.saveGcode(_vm.raw_gcode)}}},[_vm._v(\" Save Raw GCODE \")]):_vm._e()],1)],1),_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\" GCode Uploader \")]),_c('v-expansion-panel-content',[_c('v-file-input',{attrs:{\"placeholder\":\"Upload Cartesian GCODE\"},on:{\"change\":_vm.load_gcode_file}}),_c('br'),(_vm.converted_gcode.length > 0)?_c('v-btn',{on:{\"click\":_vm.send_converted_gcode}},[_vm._v(\" Send Converted GCODE \")]):_vm._e(),(_vm.raw_gcode.length > 0)?_c('v-btn',{on:{\"click\":_vm.regen_converted_gcode}},[_vm._v(\" Regen SCARA GCODE \")]):_vm._e(),(_vm.send_buffer.length > 0)?_c('v-btn',{on:{\"click\":_vm.write_next_in_buffer_to_serial}},[_vm._v(\" Unclog Stuck Buffer \")]):_vm._e(),(_vm.send_buffer.length > 0)?_c('v-btn',{on:{\"click\":_vm.clear_buffer}},[_vm._v(\" Clear Buffer \")]):_vm._e()],1)],1),_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\" SCARA Sim \")]),_c('v-expansion-panel-content',[_c('ScaraSim3D',{attrs:{\"uploaded_gcode\":this.raw_gcode,\"x_offset\":_vm.scara_conv.x_offset,\"y_offset\":_vm.scara_conv.y_offset}})],1)],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"notSupported\"}},[_vm._v(\" Sorry, \"),_c('b',[_vm._v(\"Web Serial\")]),_vm._v(\" is not supported on this device, make sure you're running Chrome 78 or later and have enabled the \"),_c('code',[_vm._v(\"#enable-experimental-web-platform-features\")]),_vm._v(\" flag in \"),_c('code',[_vm._v(\"chrome://flags\")])])}]\n\nexport { render, staticRenderFns }","const gcodeParser = require('gcode-parser');\nexport interface EffectorPos {\n    X?: number,\n    Y?: number,\n    Z?: number,\n    F?: number,\n    E?: number,\n}\n\nexport interface ScaraPos {\n    a1: number,\n    a2: number,\n    Z: number,\n    E: number,\n}\n\nexport interface ScaraProps {\n    L1: number;\n    L2: number;\n    a1_driver_teeth: number;\n    a1_receiver_teeth: number;\n    a1_steps_per_rev: number;\n    a2_driver_teeth: number;\n    a2_receiver_teeth: number;\n    a2_secondary_receiver_teeth: number;\n    a2_steps_per_rev: number;\n    max_speed: number;\n    x_estop_offset: number;\n    y_estop_offset: number;\n}\n\nexport const scara_default_props: ScaraProps = {\n    L1: 120,\n    L2: 120,\n    a1_driver_teeth: 20,\n    a1_receiver_teeth: 80,\n    a1_steps_per_rev: 800,\n    a2_driver_teeth: 20,\n    a2_receiver_teeth: 80,\n    a2_secondary_receiver_teeth: 80,\n    a2_steps_per_rev: 800,\n    max_speed: 4000,\n    x_estop_offset: 185,\n    y_estop_offset: 130,\n}  \n\nexport class ScaraConverter {\n    x_offset: number;\n    y_offset: number;\n    inner_rad: number;\n    skew: number;\n    feed_rate: number;\n    right_handed: boolean;\n    max_seg_length: number;\n    scara_props: ScaraProps;\n    error_reporter: (e: string) => void;\n    constructor(error_reporter?: (e: string) => void) {\n        this.x_offset = 0;\n        this.y_offset = 0;\n        this.inner_rad = 30;\n        this.skew =  0;\n        this.feed_rate = 2000;\n        this.right_handed = false;\n        this.max_seg_length = .5;\n        this.scara_props = scara_default_props;\n        this.error_reporter = error_reporter || ((e) => {if (alert) { alert(e) } })\n    }\n    parse_gcode_move(gcode_cmd: any[][]): EffectorPos {\n        let move_pos: EffectorPos = {X: undefined, Y: undefined, Z: undefined, F: undefined, E: undefined};\n        for (const gcode_seg_index in gcode_cmd) {\n            const gcode_seg = gcode_cmd[gcode_seg_index];\n            if(gcode_seg[0] === \"X\") {\n                move_pos.X = gcode_seg[1]\n            }\n            if(gcode_seg[0] === \"Y\") {\n                move_pos.Y = gcode_seg[1]\n            }\n            if(gcode_seg[0] === \"Z\") {\n                move_pos.Z = gcode_seg[1]\n            }\n            if(gcode_seg[0] === \"E\") {\n                move_pos.E = gcode_seg[1]\n            }\n            if(gcode_seg[0] === \"F\") {\n                move_pos.F = gcode_seg[1]\n            }\n        }\n        return move_pos;\n    };\n    scara_distance(start: ScaraPos, end: ScaraPos): number {\n        return Math.sqrt((end.a1-start.a1)**2+(end.a2-start.a2)**2+(end.Z-start.Z)**2);\n    };\n    map_cartesian_to_scara(next_pos: EffectorPos): ScaraPos {\n        const R = Math.hypot(next_pos.X!, next_pos.Y!);\n        const gamma = Math.atan2(next_pos.Y!, next_pos.X!)\n        const handedness = this.right_handed ? -1 : 1\n        const scara_pos: ScaraPos = {a1: 0, a2: 0, Z: 0, E: 0} \n        scara_pos.a1 = (gamma + handedness * Math.acos((R**2 + (this.scara_props.L1**2)-(this.scara_props.L2**2))/(2*this.scara_props.L1*R))) * 180 / Math.PI\n        scara_pos.a2 = (gamma - handedness * Math.acos((R**2 + (this.scara_props.L2**2)-(this.scara_props.L1**2))/(2*this.scara_props.L2*R))) * 180 / Math.PI\n        if (isNaN(scara_pos.a1) || isNaN(scara_pos.a2)) {\n            console.log(\"ERROR: Conversion failed: GCODE results in NaNs!\", next_pos, scara_pos);\n            this.error_reporter(\"ERROR: Conversion failed: GCODE results in NaNs!\");\n            throw \"ERROR: Conversion failed: GCODE results in NaNs!\";\n        }\n        else if(scara_pos.a1 > 180 || scara_pos.a1 < 0 || scara_pos.a2 > 100 || scara_pos.a2 < -100) {\n            console.log(\"ERROR: Conversion failed: GCODE falls outside useable work area!\", next_pos, scara_pos);\n            this.error_reporter(\"ERROR: Conversion failed: GCODE falls outside useable work area!\");\n            throw \"ERROR: Conversion failed: GCODE falls outside useable work area!\";\n        }\n        // Round values\n        scara_pos.a1 = parseFloat(scara_pos.a1.toFixed(2));\n        scara_pos.a2 = parseFloat(scara_pos.a2.toFixed(2));\n        scara_pos.Z = next_pos.Z!;\n        scara_pos.E = next_pos.E!;\n        return scara_pos;\n    };\n    cartesian_to_scara_feedrate(current_pos: EffectorPos, next_pos: EffectorPos, cartesian_feedrate: number) {\n        const a = this.scara_props.L1;\n        const b = this.scara_props.L2;\n        const handedness = this.right_handed ? -1 : 1\n        const travel_dist = Math.sqrt((next_pos.X!-current_pos.X!)**2+(next_pos.Y!-current_pos.Y!)**2);\n        if(travel_dist === 0) return 0;\n        const x_dot = (next_pos.X!-current_pos.X!)/travel_dist*cartesian_feedrate // Linear velocity in the x direction\n        const y_dot = (next_pos.Y!-current_pos.Y!)/travel_dist*cartesian_feedrate // Linear velocity in the y direction\n        const c = Math.sqrt(current_pos.X!**2+current_pos.Y!**2) // Length of vector C (From shoulder to coord 1)\n        const c_dot = (current_pos.X!*x_dot+current_pos.Y!*y_dot)/Math.sqrt(current_pos.X!**2+current_pos.Y!**2) // Rate of change of the length of vector c\n        const omega_c = (current_pos.X!*y_dot-current_pos.Y!*x_dot)/c**2 // Angular rate of change of vector c\n        const omega_a = (omega_c - handedness*c_dot*(2*c**2*a-c**2-a**2+b**2)/(2*c**2*a**2) * Math.sqrt(1-(c**2+a**2-b**2)/(2*c*a))) // Angular rate of change of the upper arm\n        const omega_b = (omega_c + handedness*c_dot*(2*c**2*b-c**2-b**2+a**2)/(2*c**2*b**2) * Math.sqrt(1-(c**2+b**2-a**2)/(2*c*b))) // Angular rate of change of the forearm\n        const omega = Math.sqrt(omega_a**2+omega_b**2) // Sum the squares of the angular feedrates.\n        return parseFloat(Math.min(Math.abs(Math.round(omega) * 180 / Math.PI), this.scara_props.max_speed).toFixed(1));\n    };\n    interpolate(start: EffectorPos, end: EffectorPos, i: number, n: number): EffectorPos {\n        return {\n            X: (i*end.X! + (n - i) * start.X!) / n,\n            Y: (i*end.Y! + (n - i) * start.Y!) / n,\n            Z: (i*end.Z! + (n - i) * start.Z!) / n,\n            E: (i*end.E! + (n - i) * start.E!) / n,\n            F: this.feed_rate,\n        }\n    };\n    segmentize_cartesian_to_scara(start: EffectorPos, end: EffectorPos): ScaraPos[] {\n        const l = this.scara_distance(this.map_cartesian_to_scara(start), this.map_cartesian_to_scara(end))\n        if (l <= this.max_seg_length) {\n            return [this.map_cartesian_to_scara(end)]; \n        } else {\n            let n = Math.round(Math.ceil( l / this.max_seg_length))\n            return Array(n).fill(0).map((_: any, i: number) => {\n                return this.map_cartesian_to_scara(this.interpolate(start, end, i+1, n))\n            });\n        }\n    };\n    translate(pos: EffectorPos): EffectorPos {\n        let newPos = {...pos};\n        const hyp = Math.hypot(pos.X!, pos.Y!);\n        const hypAngle = Math.atan2(pos.Y!, pos.X!);\n        const newHypAngle = hypAngle+ this.skew;\n        newPos.X = pos.X! + this.x_offset;\n        newPos.Y= pos.Y! + this.y_offset;\n        return newPos;\n    };\n    plot_scara_move(next_cmd_str: string, current_pos: EffectorPos): [string[], EffectorPos] {\n        let cmd_list = [] as string[];\n        let next_cmd = gcodeParser.parseLine(next_cmd_str);\n        if (next_cmd.words.length === 0){\n            return [[], current_pos]; // Clean pure comment lines\n        } else {\n            if ((next_cmd.words[0][0] === \"G\" && [0, 1].includes(next_cmd.words[0][1])) || ![\"G\", \"M\"].includes(next_cmd.words[0][0])) {\n                let rapid = false;\n                if (next_cmd.words[0][0] === \"G\" && next_cmd.words[0][1] === 0) {\n                    rapid = true;\n                }\n                let next_pos = this.parse_gcode_move(next_cmd.words);\n                next_pos.Y = next_pos.Y! + this.inner_rad;\n                if (isNaN(next_pos.X!)) next_pos.X = current_pos.X;\n                if (isNaN(next_pos.Y!)) next_pos.Y = current_pos.Y;\n                if (isNaN(next_pos.Z!)) next_pos.Z = current_pos.Z;\n                if (isNaN(next_pos.E!)) next_pos.E = current_pos.E;\n                if (isNaN(next_pos.F!)) next_pos.F = current_pos.F;\n                // First command\n                if (next_pos.X === current_pos.X && next_pos.Y === current_pos.Y) {\n                    if (next_pos.Z !== current_pos.Z) {\n                        cmd_list.push(`G1 Z${next_pos.Z} F${this.feed_rate}`)\n                    }\n                    return [cmd_list, next_pos]; \n                }\n                if ((current_pos.X === undefined && current_pos.Y === undefined) || rapid){\n                    const scara_pos = this.map_cartesian_to_scara(this.translate(next_pos));\n                    cmd_list.push(`G0 X${scara_pos.a1} Y${scara_pos.a2} Z${scara_pos.Z} F${this.feed_rate}`)\n                    return [cmd_list, next_pos]; \n                }\n                else {\n                    let travel_dist = Math.sqrt((next_pos.X!-current_pos.X!)**2+(next_pos.Y!-current_pos.Y!)**2)\n                    let mid_pos: EffectorPos = {\n                        X: current_pos.X,\n                        Y: current_pos.Y,\n                        Z: current_pos.Z,\n                    }\n                    while (travel_dist > this.max_seg_length) {\n                        mid_pos = {\n                            X: mid_pos.X! + (next_pos.X! - mid_pos.X!)*this.max_seg_length/travel_dist,\n                            Y: mid_pos.Y! + (next_pos.Y! - mid_pos.Y!)*this.max_seg_length/travel_dist,\n                            Z: mid_pos.Z! + (next_pos.Z! - mid_pos.Z!)*this.max_seg_length/travel_dist,\n                        }\n                        //const scara_pos = this.map_cartesian_to_scara(this.translate(mid_pos));\n                        const scara_pos = this.map_cartesian_to_scara(this.translate(mid_pos));\n                        const scara_feedrate = this.cartesian_to_scara_feedrate(mid_pos, next_pos, this.feed_rate)\n                        cmd_list.push(`G1 X${scara_pos.a1} Y${scara_pos.a2} Z${scara_pos.Z} F${scara_feedrate}`)\n                        travel_dist = Math.sqrt((next_pos.X!-mid_pos.X!)**2+(next_pos.Y!-mid_pos.Y!)**2)\n                    }\n                    const final_scara_pos = this.map_cartesian_to_scara(this.translate(mid_pos));\n                    const scara_feedrate = this.cartesian_to_scara_feedrate(mid_pos, next_pos, this.feed_rate)\n                    cmd_list.push(`G1 X${final_scara_pos.a1} Y${final_scara_pos.a2} Z${final_scara_pos.Z} F${scara_feedrate}`)\n                    return [cmd_list, next_pos];\n                }\n            } else if(next_cmd.words[0][0] === \"G\" && next_cmd.words[0][1] === 92.1) {\n                return [[], {X: 0, Y: 0, Z: 0, E: 0, F: this.feed_rate}]\n            }\n            return [[`(unable to parse line: ${next_cmd_str})`], current_pos]\n        }\n    };\n    convert_cartesian_to_scara(gcode_string: string): string {\n        gcode_string = gcode_string.replace(/[N]\\d+(?= [^G])/g, \"G1\");\n        gcode_string = gcode_string.replace(/[N]\\d+ /g, \"\");\n        let gcode_lines = gcode_string.split(\"\\n\");\n        let current_pos: EffectorPos = {X: undefined, Y: undefined, Z: 0, F: this.feed_rate};\n        // GRBL 0.8c compatible GCODES for setting steps such that each full step is the equivalent of 1 degree!\n        let init_gcode =  [\n            `M92 X${ (this.scara_props.a1_steps_per_rev/360) * (this.scara_props.a1_receiver_teeth/this.scara_props.a1_driver_teeth) }`, \n            `M92 Y${ (this.scara_props.a2_steps_per_rev/360) * (this.scara_props.a2_receiver_teeth/this.scara_props.a2_driver_teeth) * (this.scara_props.a2_secondary_receiver_teeth/this.scara_props.a2_receiver_teeth) }`\n        ];\n        let converted_gcode = gcode_lines.reduce((agg: string[], next_cmd: string) => {\n            let cmd_list: string[] = [];\n            [cmd_list, current_pos] = this.plot_scara_move(next_cmd, current_pos);\n            return agg.concat(cmd_list);\n        }, []);\n        return converted_gcode.join(\"\\n\");\n    };\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-scene',{staticStyle:{\"width\":\"600px\",\"height\":\"400px\",\"margin\":\"auto\"},attrs:{\"embedded\":\"\",\"vr-mode-ui\":\"enabled: false\"}},[_c('a-entity',[_c('a-cylinder',{attrs:{\"position\":\"0 140 -44\",\"radius\":\"8\",\"height\":\"280\",\"color\":\"#444444\"}}),_c('a-cylinder',{attrs:{\"position\":\"0 100 0\",\"radius\":\"12\",\"height\":\"200\",\"color\":\"#CCCCCC\",\"metalness\":\"0.5\"}}),_c('a-cylinder',{attrs:{\"position\":\"42 100 -60\",\"radius\":\"12\",\"height\":\"200\",\"color\":\"#CCCCCC\",\"metalness\":\"0.5\"}}),_c('a-cylinder',{attrs:{\"position\":\"-42 100 -60\",\"radius\":\"12\",\"height\":\"200\",\"color\":\"#CCCCCC\",\"metalness\":\"0.5\"}})],1),_c('a-entity',{attrs:{\"position\":'0 ' + _vm.z + ' 0'}},[_c('a-box',{attrs:{\"height\":\"5\",\"width\":\"130\",\"depth\":\"140\",\"position\":\"0 0 -30\"}}),_c('a-entity',{attrs:{\"rotation\":'0 ' + _vm.a1 + ' 0',\"position\":\"0 10 0\"}},[_c('a-box',{attrs:{\"height\":\"10\",\"width\":\"50\",\"depth\":\"140\",\"position\":\"0 0 70\"}}),_c('a-cylinder',{attrs:{\"position\":\"0 0 0\",\"radius\":\"25\",\"height\":\"10\"}}),_c('a-cylinder',{attrs:{\"position\":\"0 0 140\",\"radius\":\"25\",\"height\":\"10\"}}),_c('a-entity',{attrs:{\"rotation\":'0 ' + _vm.a2 + ' 0',\"position\":\"0 10 140\"}},[_c('a-box',{attrs:{\"height\":\"10\",\"width\":\"50\",\"depth\":\"140\",\"position\":\"0 0 70\"}}),_c('a-cylinder',{attrs:{\"position\":\"0 0 0\",\"radius\":\"25\",\"height\":\"10\"}}),_c('a-cylinder',{attrs:{\"position\":\"0 0 140\",\"radius\":\"25\",\"height\":\"10\"}}),_c('a-cylinder',{attrs:{\"position\":\"0 -80 140\",\"radius\":\"5\",\"height\":\"160\",\"color\":\"black\"}})],1)],1)],1),_c('a-entity',{attrs:{\"meshline\":'lineWidth: 5; path: ' + _vm.path_str + '; color: #E20049',\"position\":_vm.x_offset + ' 20 ' + _vm.y_offset}}),_c('a-plane',{attrs:{\"position\":\"0 0 0\",\"rotation\":\"-90 0 0\",\"width\":\"400\",\"height\":\"400\",\"color\":\"#7BC8A4\"}}),_c('a-sky',{attrs:{\"color\":\"#ECECEC\"}}),_c('a-entity',{attrs:{\"camera\":\"\",\"look-controls\":\"\",\"orbit-controls\":\"target: 0 0 0; minDistance: 200; maxDistance: 600; initialPosition: 200 200 200\"}})],1),_c('br'),_c('br'),_c('v-slider',{attrs:{\"label\":\"Near Arm Angle\",\"thumb-color\":\"red\",\"thumb-label\":\"always\",\"min\":\"-90\",\"max\":\"90\"},model:{value:(_vm.a1),callback:function ($$v) {_vm.a1=$$v},expression:\"a1\"}}),_c('v-slider',{attrs:{\"label\":\"Far Arm Angle \",\"thumb-color\":\"red\",\"thumb-label\":\"always\",\"min\":\"-90\",\"max\":\"90\"},model:{value:(_vm.a2),callback:function ($$v) {_vm.a2=$$v},expression:\"a2\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst gcodeParser = require('gcode-parser');\nimport Vue from 'vue'\nexport default Vue.extend({\n    props: {\n        x_offset: Number,\n        y_offset: Number,\n        uploaded_gcode: String,\n    },\n    data() {\n        return {\n            z: 180,\n            a1: 0,\n            a2: 0,\n            a1_start_angle: 0,\n            a2_start_angle: 0,\n            a1_len: 140,\n            a2_len: 140,\n            path: [] as number[][]\n        }\n    },\n    methods: {\n        gen_path(gcode_string: string) {\n            gcode_string = gcode_string.replace(/[N]\\d+(?= [^G])/g, \"G1\");\n            gcode_string = gcode_string.replace(/[N]\\d+ /g, \"\");\n            var prev_pt = [0, 0, 0];\n            let pt_array = gcode_string.split(\"\\n\").reduce((pt_array: number[][], raw_line: string) => {\n                let gcode_cmd = gcodeParser.parseLine(raw_line);\n                if(gcode_cmd.words.length === 0) {\n                    return pt_array;\n                }\n                let pt = prev_pt.slice();\n                for (const gcode_seg_index in gcode_cmd.words) {\n                    const gcode_seg = gcode_cmd.words[gcode_seg_index];\n                    if(gcode_seg[0] === \"X\") {\n                        pt[0] = gcode_seg[1]\n                    }\n                    if(gcode_seg[0] === \"Y\") {\n                        pt[2] = gcode_seg[1]\n                    }\n                    if(gcode_seg[0] === \"Z\") {\n                        pt[1] = gcode_seg[1]\n                    }\n                }\n                prev_pt = pt;\n                pt_array.push(pt);\n                return pt_array\n            }, []);\n            this.path = pt_array\n        },\n    },\n    watch: {\n        uploaded_gcode() {\n            this.gen_path(this.uploaded_gcode);\n        }\n    },\n    computed: {\n        path_str(): string {\n            return this.path.reduce((agg: string, pt: number[]) => {\n                return `${agg}${agg != \"\" ? \",\" : \"\"} ${pt[0]} ${pt[1]} ${pt[2]}`\n            }, \"\");\n        },\n        x2(): number {\n            let a1_x2 = Math.cos((this.a1 + this.a1_start_angle)  * Math.PI / 180) * this.a1_len;\n            let a2_x2 = a1_x2 + Math.cos((this.a2 + this.a2_start_angle)  * Math.PI / 180) * this.a2_len;\n            return a2_x2;\n        },\n        y2(): number {\n            let a1_y2 = Math.sin((this.a1 + this.a1_start_angle) * Math.PI / 180) * this.a1_len;\n            let a2_y2 = a1_y2 + Math.sin((this.a2 + this.a2_start_angle) * Math.PI / 180) * this.a2_len;\n            return a2_y2;\n        }\n    },\n    mounted() {\n        this.$nextTick(() => {\n            this.gen_path(this.uploaded_gcode);\n        });\n    }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScaraSim3D.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScaraSim3D.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ScaraSim3D.vue?vue&type=template&id=6e11d8ee&\"\nimport script from \"./ScaraSim3D.vue?vue&type=script&lang=ts&\"\nexport * from \"./ScaraSim3D.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSlider } from 'vuetify/lib/components/VSlider';\ninstallComponents(component, {VSlider})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"width\":\"300px\",\"max-width\":\"100%\"}},[_c('v-text-field',{attrs:{\"label\":\"Custom Text\"},model:{value:(_vm.userText),callback:function ($$v) {_vm.userText=$$v},expression:\"userText\"}}),_c('v-text-field',{attrs:{\"type\":\"number\",\"label\":\"Font Size\"},model:{value:(_vm.fontSize),callback:function ($$v) {_vm.fontSize=_vm._n($$v)},expression:\"fontSize\"}}),_c('v-select',{attrs:{\"items\":_vm.fontOptions,\"item-text\":\"name\",\"item-value\":\"file\"},model:{value:(_vm.fontName),callback:function ($$v) {_vm.fontName=$$v},expression:\"fontName\"}})],1),_c('br'),_c('canvas',{staticStyle:{\"border\":\"1px solid black\"},attrs:{\"id\":\"canvas\",\"width\":240 * _vm.svgScaler,\"height\":120 * _vm.svgScaler}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport opentype from \"opentype.js\"\nimport AdaptiveLinearization from \"adaptive-linearization\"\nimport SVGPath from \"svgpath\"\nimport Vue from \"vue\"\nexport default Vue.extend({\n    data() {\n        return {\n            userText: \"Jordan Poles\",\n            fontName: \"GreatVibes-Regular.ttf\",\n            fontSize: 40,\n            userInputDebounce: 0,\n            svgScaler: 2,\n            fontOptions: [\n                {name: \"GreatVibes (caligraphy)\", file: \"GreatVibes-Regular.ttf\"},\n                {name: \"ChunkFive (block)\", file: \"ChunkFive-Regular.otf\"},\n            ],\n        }\n    },\n    watch: {\n        userText() {\n            clearTimeout(this.userInputDebounce)\n            this.userInputDebounce = setTimeout(() => this.textToGcode(), 500)\n        },\n        fontName() {\n            clearTimeout(this.userInputDebounce)\n            this.userInputDebounce = setTimeout(() => this.textToGcode(), 250)\n        },\n        fontSize() {\n            clearTimeout(this.userInputDebounce)\n            this.userInputDebounce = setTimeout(() => this.textToGcode(), 500)\n        }\n    },\n    methods: {\n        textToGcode() {\n            // Load in the font of choice\n            opentype.load(`fonts/${this.fontName}`, (err, font) => {\n                if (err) {\n                    alert(\"Font could not be loaded: \" + err);\n                } else {\n                    const raw_path = font!.getPath(this.userText, 10, this.fontSize + 10, this.fontSize).toPathData(2);\n                    const path_chunks = raw_path.split(\"Z\") // Split on the \"close path\" cmd\n                    const lift_dist = 10; // # of mm to lift pen off page inbetween letters\n                    let gcode = `G1Z${lift_dist}` // Start by lifting pen before moving to initial position\n                    let lin_path = \"\"\n                    path_chunks.forEach(chunk => {\n                        const svgpath = SVGPath(chunk).unarc().abs();\n                        let gcode_cmds = [] as string[]\n                        let svg_cmds = [] as string[]\n                        let startpt = [undefined, undefined] as [number | undefined, number | undefined]\n                        // Iterate over svg commands and convert to linearized versions of both GCode and SVG paths\n                        let lineConsumer = (x1: number, y1: number, x2: number, y2: number, data: number) => {\n                            if(gcode_cmds.length == 0) startpt = [x2, y2]\n                            gcode_cmds.push(`G1X${x2}Y${y2}`)\n                            svg_cmds.push(`${svg_cmds.length > 0 ? \"L\" : \"M\"} ${x2 * this.svgScaler} ${y2 * this.svgScaler}`)\n                        }\n                        const al = new AdaptiveLinearization(lineConsumer);\n                        svgpath.iterate(al.svgPathIterator);\n                        // Place pen down on page at the start of each path\n                        gcode_cmds.splice(1, 0, \"G1Z0\");\n                        if(startpt[0] !=undefined && startpt[1] != undefined) {\n                            // Move to start point to close path!\n                            gcode_cmds.push(`G1X${startpt[0]}Y${startpt[1]}`);\n                        }\n                        // And then lift it when we are done\n                        gcode_cmds.push(`G1Z${lift_dist}`)\n                        // Join with \\n and add to the overall gcode string\n                        gcode = gcode + \"\\n\" + gcode_cmds.join(\"\\n\")\n                        // Separate paths with a \"Z\" that we had taken out earlier\n                        svg_cmds.push(\"Z\")\n                        // Join with a space and add to the overall gcode string\n                        lin_path = lin_path + \" \" + svg_cmds.join(\" \")\n                    })\n                    // Emit the linearized gcode to the parent component for sending to the SCARA arm\n                    this.$emit(\"gcodegen\", gcode)\n                    // Clear out the canvas\n                    const canvas = document.getElementById(\"canvas\") as HTMLCanvasElement\n                    const ctx = canvas!.getContext(\"2d\");\n                    ctx!.clearRect(0, 0, canvas!.offsetWidth, canvas!.offsetHeight);\n                    // Display the SVG path as a preview\n                    const lin_path_elem = new Path2D(lin_path)\n                    ctx!.stroke(lin_path_elem)\n                }\n            })\n        },\n    },\n    mounted() {\n        this.$nextTick(() => {\n            this.textToGcode()\n        })\n    }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextToGcode.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextToGcode.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TextToGcode.vue?vue&type=template&id=72234194&\"\nimport script from \"./TextToGcode.vue?vue&type=script&lang=ts&\"\nexport * from \"./TextToGcode.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VSelect,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"width\":\"300px\",\"max-width\":\"100%\"}},[_c('v-file-input',{attrs:{\"placeholder\":\"Upload Image\",\"accept\":\".svg,.png,.jpg,.jpeg\"},on:{\"change\":_vm.load_img_file}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.imageSize[0] + _vm.imageSize[1] > 0),expression:\"imageSize[0] + imageSize[1] > 0\"}]},[_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('canvas',{staticStyle:{\"border\":\"1px solid black\"},attrs:{\"id\":\"svg-canvas\",\"width\":\"0\",\"height\":\"0\"}}),_c('div',{staticStyle:{\"width\":\"300px\",\"margin-left\":\"20px\",\"border\":\"1px #888 solid\",\"background-color\":\"lightblue\",\"padding\":\"16px\",\"border-radius\":\"10px\"}},[_c('br'),_c('v-slider',{attrs:{\"thumb-label\":\"always\",\"min\":\"0\",\"max\":\"200\",\"label\":\"GCode Scaler %\"},on:{\"change\":_vm.svgToGcode},model:{value:(_vm.gcodeScale),callback:function ($$v) {_vm.gcodeScale=$$v},expression:\"gcodeScale\"}}),(_vm.imageType == 'photo')?_c('div',[_c('br'),_c('v-slider',{attrs:{\"thumb-label\":\"always\",\"min\":\"-1\",\"max\":\"255\",\"label\":\"Threshold\"},on:{\"change\":_vm.photoToSVG},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('v-icon',{directives:[{name:\"ripple\",rawName:\"v-ripple\"},{name:\"show\",rawName:\"v-show\",value:(_vm.potraceParams.threshold != -1),expression:\"potraceParams.threshold != -1\"}],on:{\"click\":function($event){_vm.potraceParams.threshold = -1}}},[_vm._v(\" mdi-replay \")])]},proxy:true}],null,false,3891612062),model:{value:(_vm.potraceParams.threshold),callback:function ($$v) {_vm.$set(_vm.potraceParams, \"threshold\", $$v)},expression:\"potraceParams.threshold\"}}),_c('br'),_c('v-slider',{attrs:{\"thumb-label\":\"always\",\"min\":\"0\",\"max\":\"50\",\"label\":\"Min Speckle Size\"},on:{\"change\":_vm.photoToSVG},model:{value:(_vm.potraceParams.turdSize),callback:function ($$v) {_vm.$set(_vm.potraceParams, \"turdSize\", $$v)},expression:\"potraceParams.turdSize\"}}),_c('br'),_c('v-checkbox',{attrs:{\"label\":\"Invert\"},on:{\"change\":_vm.photoToSVG},model:{value:(_vm.potraceParams.blackOnWhite),callback:function ($$v) {_vm.$set(_vm.potraceParams, \"blackOnWhite\", $$v)},expression:\"potraceParams.blackOnWhite\"}})],1):_vm._e()],1)]),_vm._v(\" Print Size: \"+_vm._s((_vm.imageSize[0] * _vm.gcodeScale / 100).toFixed(1))+\" x \"+_vm._s((_vm.imageSize[1] * _vm.gcodeScale / 100).toFixed(1))+\" mm \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var PI = Math.PI;\nvar TAU = PI*2;\n\nexport type IteratorConsumer = (x1: number, y1: number, x2: number, y2: number, index: number, svgcmd: any[]) => void\n\nexport interface LinearizationOpts {\n    // Approximation scale: Higher is better quality\n    approximationScale: number\n    // Limit to disregard the curve distance at\n    curve_distance_epsilon: number\n    // Limit to disregard colinearity at\n    curveColinearityEpsilon: number\n    // Limit disregard angle tolerance\n    curveAngleToleranceEpsilon:  number\n    // Angle tolerance, higher is better quality\n    angleTolerance: number\n    // Hard recursion subdivision limit\n    recursionLimit: number\n    // Limit for curve cusps: 0 = off (range: 0 to pi)\n    cuspLimit: number\n}\n\nconst DEFAULT_OPTS: LinearizationOpts = {\n    approximationScale: 1,\n    curve_distance_epsilon: 1e-30,\n    curveColinearityEpsilon: 1e-30,\n    curveAngleToleranceEpsilon:  0.01,\n    angleTolerance: 0.4,\n    recursionLimit: 32,\n    cuspLimit: 0\n};\n\nexport class AdaptiveLinearization {\n    consumer: IteratorConsumer\n    opts: LinearizationOpts\n    prevX: number\n    prevY: number\n    constructor(consumer: IteratorConsumer, opts: any) {\n        this.consumer = (x1, y1, x2, y2, data, svgcmd) => {\n            consumer(x1, y1, x2, y2, data, svgcmd);\n            this.prevX = x2;\n            this.prevY = y2;\n        };\n        this.opts = Object.assign({}, DEFAULT_OPTS, opts);\n        this.prevX = 0;\n        this.prevY = 0;\n    }\n    /**\n     * Higher level helper function to linearize full svg-paths. Supposed to be called by the iterate function\n     * of the svgpath library. (NPM \"svgpath\").\n     *\n     * @param segment   segment array\n     * @param index     index\n     * @param curX      current x-coordinate\n     * @param curY      current y-coordinate\n     */\n    public svgPathIterator = (segment: any[], index: number, curX: number, curY: number) => {\n        var command = segment[0];\n\n        var i, x, y, x2, y2, x3, y3, x4, y4, short = false;\n        switch (command) {\n            case \"M\":\n                for (i = 1; i < segment.length; i += 2) {\n                    x = segment[i];\n                    y = segment[i + 1];\n                    this.consumer(curX, curY, x, y, index, [\"M\", x, y]);\n                    curX = x;\n                    curY = y;\n                }\n                break;\n            case \"L\":\n                for (i = 1; i < segment.length; i += 2) {\n                    x = segment[i];\n                    y = segment[i + 1];\n                    this.consumer(curX, curY, x, y, index, [\"L\", x, y]);\n                    curX = x;\n                    curY = y;\n                }\n                break;\n            case \"H\":\n                y = curY\n                for (i = 1; i < segment.length; i += 2) {\n                    x = segment[i];\n                    this.consumer(curX, curY, x, y, index, [\"H\", x]);\n                    curX = x;\n                }\n                break;\n            case \"V\":\n                x = curX\n                for (i = 1; i < segment.length; i += 2) {\n                    y = segment[i];\n                    this.consumer(curX, curY, x, y, index, [\"V\", y]);\n                    curY = y;\n                }\n                break;\n            case \"Z\":\n                this.consumer(curX, curY, curX, curY, index, [\"Z\"]);\n                break;\n            case \"Q\":\n                short = true;\n            // intentional fallthrough\n            case \"C\":\n                //console.log(\"C segment\", segment);\n                var step = short ? 4 : 6;\n\n                for (i = 1; i < segment.length; i += step)\n                {\n                    x = curX;\n                    y = curY;\n                    x2 = segment[i];\n                    y2 = segment[i + 1];\n                    x3 = short ? x2 : segment[i + 2];\n                    y3 = short ? y2 : segment[i + 3];\n                    x4 = short ? segment[i + 2] : segment[i + 4];\n                    y4 = short ? segment[i + 3] : segment[i + 5];\n\n                    this.linearize(\n                        x,y,\n                        x2,y2,\n                        x3,y3,\n                        x4,y4,\n                        index\n                    );\n\n                    curX = x;\n                    curY = y;\n                }\n                break;\n            default:\n                throw new Error(\"path command '\" + command + \"' not supported yet\");\n\n        }\n    }\n    /**\n     * Core linearization function linearizes the given bezier curve. Calls the line consumer function registered for\n     * the current instance once for every line segment of the linearized curve.\n     *\n     * @param x1        {number} x-coordinate of the start point\n     * @param y1        {number} y-coordinate of the start point\n     * @param x2        {number} x-coordinate of the first control point\n     * @param y2        {number} y-coordinate of the first control point\n     * @param x3        {number} x-coordinate of the second control point\n     * @param y3        {number} y-coordinate of the second control point\n     * @param x4        {number} x-coordinate of the end point\n     * @param y4        {number} y-coordinate of the start point\n     * @param [data]    {*} user data passed on to the comsumer function\n     */\n    linearize(x1: number, y1: number, x2: number, y2: number, x3: number, y3: number, x4: number, y4: number, data: any) {\n        this.linearizeRecursive(x1, y1, x2, y2, x3, y3, x4, y4, data, 0);\n\n        const prevX = this.prevX;\n        const prevY = this.prevY;\n\n        if (prevX !== x4 || prevY !== y4) {\n            this.consumer(prevX, prevY, x4, y4, data, [\"L\", x4, y4]);\n        }\n    }\n    distanceTo(x1: number, y1: number, x2: number, y2: number): number {\n        var x = x2 - x1;\n        var y = y2 - y1;\n    \n        return Math.sqrt(x*x+y*y);\n    }    \n    linearizeRecursive(x1: number, y1: number, x2: number, y2: number, x3: number, y3: number, x4: number, y4: number, data: any, level: number) {\n        const cuspLimit = this.opts.cuspLimit;\n        const curveColinearityEpsilon = this.opts.curveColinearityEpsilon;\n        const curveAngleToleranceEpsilon = this.opts.curveAngleToleranceEpsilon;\n        const angleTolerance = this.opts.angleTolerance;\n        const distanceToleranceSquared = (0.5 / this.opts.approximationScale)**2;\n    \n        ///////////////////////////////\n        // Calculate all the mid-points of the line segments\n        //----------------------\n        var x12   = (x1 + x2) / 2;\n        var y12   = (y1 + y2) / 2;\n        var x23   = (x2 + x3) / 2;\n        var y23   = (y2 + y3) / 2;\n        var x34   = (x3 + x4) / 2;\n        var y34   = (y3 + y4) / 2;\n        var x123  = (x12 + x23) / 2;\n        var y123  = (y12 + y23) / 2;\n        var x234  = (x23 + x34) / 2;\n        var y234  = (y23 + y34) / 2;\n        var x1234 = (x123 + x234) / 2;\n        var y1234 = (y123 + y234) / 2;\n    \n    \n        // Try to approximate the full cubic curve by a single straight line\n        //------------------\n        var dx = x4 - x1;\n        var dy = y4 - y1;\n    \n        var d2 = Math.abs(((x2 - x4) * dy - (y2 - y4) * dx));\n        var d3 = Math.abs(((x3 - x4) * dy - (y3 - y4) * dx));\n        var da1, da2, k;\n    \n        switch(\n        (d2 > curveColinearityEpsilon ? 2 : 0) +\n        (d3 > curveColinearityEpsilon? 1 : 0)\n            )\n        {\n            case 0:\n                // All collinear OR p1==p4\n                //----------------------\n                k = dx*dx + dy*dy;\n                if(k === 0)\n                {\n                    d2 = this.distanceTo(x1, y1, x2, y2);\n                    d3 = this.distanceTo(x4, y4, x3, y3);\n                }\n                else\n                {\n                    k   = 1 / k;\n                    da1 = x2 - x1;\n                    da2 = y2 - y1;\n                    d2  = k * (da1*dx + da2*dy);\n                    da1 = x3 - x1;\n                    da2 = y3 - y1;\n                    d3  = k * (da1*dx + da2*dy);\n                    if(d2 > 0 && d2 < 1 && d3 > 0 && d3 < 1)\n                    {\n                        // Simple collinear case, 1---2---3---4\n                        // We can leave just two endpoints\n                        this.consumer(x1,y1,x4,y4, data, [\"L\", x4, y4]);\n                        return;\n                    }\n                    if(d2 <= 0) d2 = this.distanceTo(x2, y2, x1, y1);\n                    else if(d2 >= 1) d2 = this.distanceTo(x2, y2, x4, y4);\n                    else             d2 = this.distanceTo(x2, y2, x1 + d2*dx, y1 + d2*dy);\n    \n                    if(d3 <= 0) d3 = this.distanceTo(x3, y3, x1, y1);\n                    else if(d3 >= 1) d3 = this.distanceTo(x3, y3, x4, y4);\n                    else             d3 = this.distanceTo(x3, y3, x1 + d3*dx, y1 + d3*dy);\n                }\n                if(d2 > d3)\n                {\n                    if(d2 < distanceToleranceSquared)\n                    {\n                        this.consumer(x1,y1,x2,y2, data, [\"L\", x2, y2]);\n                        return;\n                    }\n                }\n                else\n                {\n                    if(d3 < distanceToleranceSquared)\n                    {\n                        this.consumer(x1,y1, x3, y3, data, [\"L\", x3, y3]);\n                        return;\n                    }\n                }\n                break;\n    \n            case 1:\n                // p1,p2,p4 are collinear, p3 is significant\n                //----------------------\n                if(d3 * d3 <= distanceToleranceSquared * (dx*dx + dy*dy))\n                {\n                    if(angleTolerance < curveAngleToleranceEpsilon)\n                    {\n                        this.consumer(x1,y1,x23,y23, data, [\"L\", x23, y23]);\n                        return;\n                    }\n    \n                    // Angle Condition\n                    //----------------------\n                    da1 = Math.abs(Math.atan2(y4 - y3, x4 - x3) - Math.atan2(y3 - y2, x3 - x2));\n                    if(da1 >= PI) da1 = TAU - da1;\n    \n                    if(da1 < angleTolerance)\n                    {\n                        this.consumer(x1,y1,x2,y2, data, [\"L\", x2, y2]);\n                        this.consumer(x2,y2,x3,y3, data, [\"L\", x3, y3]);\n                        return;\n                    }\n    \n                    if(cuspLimit !== 0.0)\n                    {\n                        if(da1 > PI - cuspLimit)\n                        {\n                            this.consumer(x1,y1,x3,y3, data, [\"L\", x3, y3]);\n                            return;\n                        }\n                    }\n                }\n                break;\n    \n            case 2:\n                // p1,p3,p4 are collinear, p2 is significant\n                //----------------------\n                if(d2 * d2 <= distanceToleranceSquared * (dx*dx + dy*dy))\n                {\n                    if(angleTolerance < curveAngleToleranceEpsilon)\n                    {\n                        this.consumer(x1,y1,x23,y23, data, [\"L\", x23, y23]);\n                        return;\n                    }\n    \n                    // Angle Condition\n                    //----------------------\n                    da1 = Math.abs(Math.atan2(y3 - y2, x3 - x2) - Math.atan2(y2 - y1, x2 - x1));\n                    if(da1 >= PI) da1 = TAU - da1;\n    \n                    if(da1 < angleTolerance)\n                    {\n                        this.consumer(x1,y1,x2,y2, data, [\"L\", x2, y2]);\n                        this.consumer(x2,y2,x3,y3, data, [\"L\", x3, y3]);\n                        return;\n                    }\n    \n                    if(cuspLimit !== 0.0)\n                    {\n                        if(da1 > PI - cuspLimit)\n                        {\n                            this.consumer(x1,y1,x2,y2, data, [\"L\", x2, y2]);\n                            return;\n                        }\n                    }\n                }\n                break;\n    \n            case 3:\n                // Regular case\n                //-----------------\n                if((d2 + d3)*(d2 + d3) <= distanceToleranceSquared * (dx*dx + dy*dy))\n                {\n                    // If the curvature doesn't exceed the distance_tolerance value\n                    // we tend to finish subdivisions.\n                    //----------------------\n                    if(angleTolerance < curveAngleToleranceEpsilon)\n                    {\n                        this.consumer(x1,y1,x23,y23, data, [\"L\", x23, y23]);\n                        return;\n                    }\n    \n                    // Angle & Cusp Condition\n                    //----------------------\n                    k   = Math.atan2(y3 - y2, x3 - x2);\n                    da1 = Math.abs(k - Math.atan2(y2 - y1, x2 - x1));\n                    da2 = Math.abs(Math.atan2(y4 - y3, x4 - x3) - k);\n                    if(da1 >= PI) da1 = TAU - da1;\n                    if(da2 >= PI) da2 = TAU - da2;\n    \n                    if(da1 + da2 < angleTolerance)\n                    {\n                        this.consumer(x1,y1,x23,y23, data, [\"L\", x23, y23]);\n                        return;\n                    }\n    \n                    if(cuspLimit !== 0.0)\n                    {\n                        if(da1 > PI - cuspLimit)\n                        {\n                            this.consumer(x1,y1,x2,y2, data, [\"L\", x2, y2]);\n                            return;\n                        }\n    \n                        if(da2 > PI - cuspLimit)\n                        {\n                            this.consumer(x1,y1,x3,y3, data, [\"L\", x3, y3]);\n                            return;\n                        }\n                    }\n                }\n                break;\n        }\n    \n        var nextLevel = level + 1;\n    \n        if (nextLevel >= this.opts.recursionLimit)\n        {\n            this.consumer(x1, y1, x4, y4, data, [\"L\", x4, y4]);\n            return;\n        }\n    \n        // Continue subdivision\n        //----------------------\n        this.linearizeRecursive(x1, y1, x12, y12, x123, y123, x1234, y1234, data, nextLevel);\n        this.linearizeRecursive(x1234, y1234, x234, y234, x34, y34, x4, y4, data, nextLevel);\n    }\n}","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport opentype from \"opentype.js\"\nimport {AdaptiveLinearization} from \"@/components/adaptive-linearization/src/index.ts\"\nimport SVGPath from \"svgpath\"\nimport potrace from \"potrace\"\nimport imgreduce from \"image-blob-reduce\"\n\nimport Vue from \"vue\"\nexport default Vue.extend({\n    data() {\n        return {\n            imageSize: [0, 0],\n            rawPhoto: undefined as ArrayBuffer | undefined,\n            rawSVG: \"\",\n            imageType: \"\",\n            gcodeScale: 25,\n            potraceParams: {\n                threshold: -1,\n                turdSize: 15,\n                blackOnWhite: true,\n            },\n            finalGcode: \"\",\n        }\n    },\n    methods: {\n        load_img_file(file: File) {\n            if (file === null) return\n            const reader = new FileReader();\n            if([\"image/jpeg\", \"image/jpg\", \"image/png\"].includes(file.type)) {\n                reader.onload = (ev) => {\n                    this.imageType = \"photo\"\n                    this.rawPhoto = reader.result as ArrayBuffer;\n                    this.photoToSVG();\n                };\n                imgreduce().toBlob(file, {max: 400}).then(((reducedFile: File) => reader.readAsArrayBuffer(reducedFile)))\n            }\n            else if(file.type == \"image/svg+xml\") {\n                reader.onload = (ev: any) => {\n                    this.rawSVG = reader.result as string;\n                    this.svgToGcode();\n                };\n                reader.readAsText(file);\n            } else {\n                this.imageType = \"\"\n            }\n        },\n        photoToSVG() {\n            if(this.rawPhoto != undefined) {\n                potrace.trace(this.rawPhoto, this.potraceParams, (err: Error, svg: string) => {\n                    if (err) throw err;\n                    this.rawSVG = svg;\n                    this.svgToGcode();\n                });\n            }\n        },\n        svgToGcode() {\n            const svgdoc = new DOMParser().parseFromString(this.rawSVG, \"image/svg+xml\");\n            const path_chunks = Array.from(svgdoc.querySelectorAll(\"path\").values()).reduce((agg, pathElem) => {\n                const rawPath = pathElem.getAttribute(\"d\");\n                agg.push(rawPath!);\n                return agg;\n            }, [] as string[])\n            const lift_dist = 5; // # of mm to lift pen off page inbetween letters\n            let gcode = \"\"\n            let lin_path = \"\"\n            let maxVals = [0, 0];\n            let startpt = [0, 0];\n            path_chunks.forEach(chunk => {\n                const svgpath = SVGPath(chunk).unarc().abs();\n                let gcode_cmds = [] as string[][]\n                let svg_cmds = [] as string[]\n                // Iterate over svg commands and convert to linearized versions of both GCode and SVG paths\n                let lineConsumer = (x1: number, y1: number, x2: number, y2: number, data: number, svgcmd: string[]) => {\n                    if (x2 > maxVals[0]) maxVals[0] = x2\n                    if (y2 > maxVals[1]) maxVals[1] = y2\n                    x2 = x2 * this.gcodeScale / 100\n                    y2 = y2 * this.gcodeScale / 100\n                    if(svgcmd[0] == \"M\") {\n                        gcode_cmds.push([\"G0\", `Z${lift_dist}`])\n                        gcode_cmds.push([\"G0\", `X${x2}`, `Y${y2}`])\n                        gcode_cmds.push([\"G0\", \"Z0\"])\n                        startpt = [x2, y2];\n                    } else if(svgcmd[0] == \"Z\") {\n                        gcode_cmds.push([\"G0\", `X${startpt[0]}`, `Y${startpt[1]}`])\n                    } else {\n                        gcode_cmds.push([\"G1\", `X${x2}`, `Y${y2}`])\n                    }\n                    // Record max vals for resizing canvas\n                    // Create final SVG cmd\n                    svg_cmds.push(svgcmd.join(\" \"))\n                }\n                const al = new AdaptiveLinearization(lineConsumer, {\n                    recursionLimit: 4,\n                    curve_distance_epsilon: 1e-5,\n                    curveColinearityEpsilon: 1e-5,\n                });\n                svgpath.iterate(al.svgPathIterator);\n                // Join with \\n and add to the overall gcode string\n                gcode = gcode + \"\\n\" + gcode_cmds.map((x: string[]) => x.join(\"\")).join(\"\\n\")\n                // Join with a space and add to the overall gcode string\n                lin_path = lin_path + \" \" + svg_cmds.join(\" \")\n            })\n            // Display the SVG path as a preview\n            //this.canvasWidth = maxVals[0]\n            //this.canvasHeight = maxVals[1]\n            // Clear out the canvas\n            const canvas = document.getElementById(\"svg-canvas\") as HTMLCanvasElement\n            this.imageSize = maxVals\n            canvas.setAttribute(\"width\", `${maxVals[0]}`)\n            canvas.setAttribute(\"height\", `${maxVals[1]}`)\n            const ctx = canvas!.getContext(\"2d\");\n            ctx!.clearRect(0, 0, canvas!.offsetWidth, canvas!.offsetHeight);\n            const lin_path_elem = new Path2D(lin_path)\n            ctx!.stroke(lin_path_elem)\n            // Emit the linearized gcode to the parent component for sending to the SCARA arm\n            this.$emit(\"gcodegen\", gcode)\n        },\n    }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImgToGcode.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImgToGcode.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ImgToGcode.vue?vue&type=template&id=99781afe&\"\nimport script from \"./ImgToGcode.vue?vue&type=script&lang=ts&\"\nexport * from \"./ImgToGcode.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\ninstallComponents(component, {VCheckbox,VFileInput,VIcon,VSlider})\n\n\n/* vuetify-loader */\nimport installDirectives from \"!../../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport Ripple from 'vuetify/lib/directives/ripple'\ninstallDirectives(component, {Ripple})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst async_wait = (ms: number) => new Promise(resolve => setTimeout(resolve, ms))\n\n//https://codelabs.developers.google.com/codelabs/web-serial/\n\nimport Vue from \"vue\";\nimport {ScaraConverter} from \"@/ScaraConverter\";\nimport ScaraSim3D from \"@/components/ScaraSim3D.vue\";\nimport TextToGcode from \"@/components/TextToGcode.vue\";\nimport ImgToGcode from \"@/components/ImgToGcode.vue\";\nimport saveAs from \"@/components/FileSaver\"\n\nexport default Vue.extend({\n\tcomponents: {\n\t\tScaraSim3D,\n\t\tTextToGcode,\n\t\tImgToGcode,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\traw_gcode: \"\",\n\t\t\tsend_buffer: [] as string[],\n\t\t\tlast_resp: undefined as number | undefined,\n\t\t\tsend_buffer_interval: undefined as any,\n\t\t\tconverted_gcode: [] as string[],\n\t\t\tscara_conv: new ScaraConverter((e: string) => {this.$toast(e, {x: \"center\", color: \"red\"})}),\n\t\t\tsend_log: [] as string[],\n\t\t\tsend_log_index: 0,\n\t\t\trecv_buffer: \"\",\n\t\t\tserial_log: [] as string[],\n\t\t\tcmd: \"\",\n\t\t\tjog_inc: {x: 10, y: 10, z: 10},\n\t\t\tgoto: {x: 0, y: 0},\n\t\t\tattempting_to_connect: false,\n\t\t\tcancel_connect: false,\n\t\t\treader: undefined as ReadableStreamDefaultReader<any> | undefined,\n\t\t\toutput_stream: undefined as WritableStream<any> | undefined,\n\t\t\tregen_debounce: 0,\n\t\t};\n\t},\n\twatch: {\n\t\t\"scara_conv.x_offset\"() {\n\t\t\tclearTimeout(this.regen_debounce)\n\t\t\tthis.regen_debounce = setTimeout(this.regen_converted_gcode, 500)\n\t\t},\n\t\t\"scara_conv.y_offset\"() {\n\t\t\tclearTimeout(this.regen_debounce)\n\t\t\tthis.regen_debounce = setTimeout(this.regen_converted_gcode, 500)\n\t\t},\n\t},\n\tmethods: {\n\t\tasync goto_point() {\n\t\t\tconst raw_gcode = `G1 X${this.goto.x} Y${this.goto.y} F50000\\n`\n\t\t\tconst scara_gcode = this.scara_conv.convert_cartesian_to_scara(raw_gcode);\n\t\t\tawait this.write_serial(scara_gcode + \"\\n\");\n\t\t},\n\t\tasync home_scara(fold_up=false) {\n\t\t\tconst log_len = this.serial_log.length\n\t\t\tawait this.write_serial(\"M119\\n\");\n\t\t\tsetTimeout(async () => {\n\t\t\t\tconst next_rx = this.serial_log[log_len]\n\t\t\t\tif (next_rx == undefined) {\n\t\t\t\t\tthis.$toast(\"Failed to get status of endstops, cancelling homing.\");\n\t\t\t\t\treturn\n\t\t\t\t} else {\n\t\t\t\t\t// Ensure endstops properly configured, should be\n\t\t\t\t\t// x_max: open y_max: open\n\t\t\t\t\tconst estop_resp = next_rx.match(/x_max: (\\w+)\\s+y_max: (\\w+)/)\n\t\t\t\t\tconsole.log(next_rx, estop_resp);\n\t\t\t\t\tif (!estop_resp || estop_resp[1] != \"open\" || estop_resp[2] != \"open\") {\n\t\t\t\t\t\tthis.$toast(`One or more endstops appear to be in an invalid state, cancelling homing: ${next_rx}`);\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tconst fold_up_cmd_lines = [\n\t\t\t\t\t\t\"G0 Z10 F5000\",\n\t\t\t\t\t\t\"G92 X0 Y0\",\n\t\t\t\t\t\t\"G0 Y25\",\n\t\t\t\t\t\t\"G28 X\",\n\t\t\t\t\t\t\"G28 Y\",\n\t\t\t\t\t\t\"G0 Y-30\",\n\t\t\t\t\t\t\"G0 X-10\",\n\t\t\t\t\t\t\"G92 X0 Y0\",\n\t\t\t\t\t]\n\t\t\t\t\tconst home_cmd_lines = [\n\t\t\t\t\t\t\"G0 Z10 F5000\",\n\t\t\t\t\t\t\"G92 X0 Y0\",\n\t\t\t\t\t\t\"G0 Y25\",\n\t\t\t\t\t\t\"G28 X\",\n\t\t\t\t\t\t\"G28 Y\",\n\t\t\t\t\t\t`G0 Y-${this.scara_conv.scara_props.y_estop_offset + 90}`,\n\t\t\t\t\t\t`G0 X-${this.scara_conv.scara_props.x_estop_offset}`,\n\t\t\t\t\t\t`G0 Y-${this.scara_conv.scara_props.y_estop_offset + 180}`,\n\t\t\t\t\t\t\"G92 X0 Y0\",\n\t\t\t\t\t\t\"G1 Z0 F5000\",\n\t\t\t\t\t];\n\t\t\t\t\tconst cmd_lines = fold_up ? fold_up_cmd_lines : home_cmd_lines;\n\t\t\t\t\tfor (const gcode_line_index in cmd_lines) {\n\t\t\t\t\t\tconst gcode_line = cmd_lines[gcode_line_index]\n\t\t\t\t\t\tconsole.log(gcode_line)\n\t\t\t\t\t\tawait this.write_serial(gcode_line + \"\\n\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 1500)\n\t\t},\n\t\tasync origin_scara() {\n\t\t\tconst home_cmd_lines = [\n\t\t\t\t\"G0 Z10 F5000\",\n\t\t\t\t\"G0 X0 Y0 F5000\",\n\t\t\t\t\"G0 Z0 F5000\",\n\t\t\t];\n\t\t\tfor (const gcode_line_index in home_cmd_lines) {\n\t\t\t\tconst gcode_line = home_cmd_lines[gcode_line_index]\n\t\t\t\tawait this.write_serial(gcode_line + \"\\n\");\n\t\t\t}\n\t\t},\n\t\trecover_prev_cmd(inc: number) {\n\t\t\tif (this.cmd == this.send_log[this.send_log_index]) {\n\t\t\t\tthis.send_log_index += inc;\n\t\t\t\tif (this.send_log_index < this.send_log.length) {\n\t\t\t\t\tthis.cmd = this.send_log[this.send_log_index];\n\t\t\t\t}\n\t\t\t} else if (this.send_log.length > 0) {\n\t\t\t\tthis.send_log_index = 0;\n\t\t\t\tthis.cmd = this.send_log[this.send_log_index];\n\t\t\t}\n\t\t},\n\t\tasync read_serial() {\n\t\t\tif (this.reader === undefined) return;\n\t\t\twhile (true) {\n\t\t\t\tlet { value, done } = await this.reader.read();\n\t\t\t\tif (value) {\n\t\t\t\t\tthis.recv_buffer += value;\n\t\t\t\t\tif (this.recv_buffer.includes(\"\\n\")){\n\t\t\t\t\t\tif(this.recv_buffer.includes(\"ok\")) {\n\t\t\t\t\t\t\tthis.last_resp = Date.now();\n\t\t\t\t\t\t\tif(this.send_buffer.length > 0) {\n\t\t\t\t\t\t\t\tthis.write_next_in_buffer_to_serial();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} \n\t\t\t\t\t\t// else if (this.recv_buffer.includes(\"error:\")) {}\n\t\t\t\t\t\tthis.recv_buffer = this.recv_buffer.replace(\"\\n\", \"<br>\")\n\t\t\t\t\t\tthis.serial_log.push(this.recv_buffer);\n\t\t\t\t\t\tthis.recv_buffer = \"\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (done) {\n\t\t\t\t\tthis.reader.releaseLock();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tasync write_next_in_buffer_to_serial() {\n\t\t\tthis.write_serial(this.send_buffer.shift() + \"\\n\");\n\t\t},\n\t\tasync write_cmd_to_serial() {\n\t\t\tawait this.write_serial(this.cmd + \"\\n\");\n\t\t\tthis.send_log.unshift(this.cmd);\n\t\t\tthis.cmd = \"\";\n\t\t},\n\t\tasync write_serial(data: string) {\n\t\t\t//console.log(data, this.output_stream);\n\t\t\tif (this.output_stream === undefined) {\n\t\t\t\tthis.$toast(\"Failed to write to serial\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst writer = this.output_stream.getWriter();\n\t\t\tawait writer.write(data);\n\t\t\tawait writer.releaseLock();\n\t\t\t//console.log(\"written\");\n\t\t},\n\t\tasync serial_connect() {\n\t\t\tlet port = await (navigator as any).serial.requestPort();\n\t\t\t// - Wait for the port to open.\n\t\t\tlet port_open_error = \"\" as any;\n\t\t\tthis.attempting_to_connect = true;\n\t\t\twhile (port_open_error != undefined) {\n\t\t\t\tport_open_error = undefined;\n\t\t\t\tawait port.open({ baudRate: 250000 }).catch((e: any) => {\n\t\t\t\t\tthis.$toast(`Failed to open serial connection: ${e}`)\n\t\t\t\t\tport_open_error = e;\n\t\t\t\t});\n\t\t\t\tif (this.cancel_connect) {\n\t\t\t\t\tthis.cancel_connect = false;\n\t\t\t\t\tthis.attempting_to_connect = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (port_open_error != undefined) {\n\t\t\t\t\tawait async_wait(1500);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Connected successfully\n\t\t\tthis.attempting_to_connect = false;\n\t\t\t// Setup Writer\n\t\t\tconst encoder = new TextEncoderStream();\n\t\t\tconst outputDone = encoder.readable.pipeTo(port.writable);\n\t\t\tthis.output_stream = encoder.writable;\n\t\t\tthis.send_buffer_interval = setInterval(() => {\n\t\t\t\tif (this.send_buffer.length > 0 && ((Date.now() - (this.last_resp || 0)) / 1000 > 1)) {\n\t\t\t\t\tthis.write_serial(\"?\\n\");\n\t\t\t\t}\n\t\t\t}, 500);\n\t\t\t// Setup Reader \n\t\t\tlet decoder = new TextDecoderStream();\n\t\t\tconst inputDone = port.readable.pipeTo(decoder.writable);\n\t\t\tconst inputStream = decoder.readable;\n\t\t\tthis.reader = inputStream.getReader();\n\t\t\tthis.read_serial();\n\t\t},\n\t\tregen_converted_gcode() {\n\t\t\tthis.converted_gcode = this.scara_conv.convert_cartesian_to_scara(this.raw_gcode).split(\"\\n\");\n\t\t},\n\t\tload_gcode_file(file: File) {\n\t\t\tif (file === null) return\n            const reader = new FileReader();\n            reader.onload = (ev: any) => {\n\t\t\t\tthis.raw_gcode = ev.target!.result;\n\t\t\t\tthis.regen_converted_gcode();\n\t\t\t};\n            reader.readAsText(file);\n\t\t},\n\t\tgcode_from_text(gcode: string) {\n\t\t\t// Add homing seq to end of gcode\n\t\t\tthis.raw_gcode = gcode + [\"G0Z10\", `G0X${this.scara_conv.scara_props.L1 + this.scara_conv.scara_props.L2}Y-${this.scara_conv.inner_rad}`, \"G0Z0\"].join(\"\\n\");\n\t\t\tthis.regen_converted_gcode();\n\t\t},\n\t\tsaveGcode(gcode: string) {\n\t\t\t(saveAs as any)(new Blob([gcode], {type: 'text/plain'}), \"jscara_export.gcode\")\n\t\t},\n\t\tclear_buffer() {\n\t\t\tthis.send_buffer = [];\n\t\t},\n\t\tasync send_converted_gcode() {\n\t\t\tthis.send_buffer = this.send_buffer.concat(this.converted_gcode);\n\t\t\tthis.write_next_in_buffer_to_serial();\n\t\t}\n\t},\n\tcomputed: {\n\t\twork_area_dim(): number {\n\t\t\tconst R = this.scara_conv.inner_rad\n\t\t\tconst L = this.scara_conv.scara_props.L1 + this.scara_conv.scara_props.L2\n\t\t\treturn parseFloat(((-R + Math.sqrt(2 * L**2 - R**2))/2).toFixed(0));\n\t\t},\n\t},\n\tmounted() {\n\t\tif ((navigator as any).serial !== undefined) {\n\t\t\tconst notSupported = document.getElementById(\"notSupported\");\n\t\t\tnotSupported!.style.display = \"none\";\n\t\t}\n\t},\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=babd8da4&\"\nimport script from \"./Home.vue?vue&type=script&lang=ts&\"\nexport * from \"./Home.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VFileInput,VRow,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"scara-converter\"}},[_c('v-file-input',{on:{\"change\":_vm.load_gcode_file}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport {ScaraConverter} from \"@/ScaraConverter\";\r\n\r\nexport default Vue.extend({\r\n\tdata() {\r\n\t\treturn {\r\n            scara: new ScaraConverter()\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n        download_gcode(filename: string, gcode_string: string) {\r\n            var element = document.createElement('a');\r\n            element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(gcode_string));\r\n            element.setAttribute('download', filename);\r\n\r\n            element.style.display = 'none';\r\n            document.body.appendChild(element);\r\n\r\n            element.click();\r\n\r\n            document.body.removeChild(element);\r\n        },\r\n        load_gcode_file(file: File) {\r\n            const reader = new FileReader();\r\n            reader.onload = (ev: any) => {\r\n                this.download_gcode(`${file.name.replace(\".gcode\", \"\").replace(\".nc\", \"\")}_converted.gcode`, this.scara.convert_cartesian_to_scara(ev.target!.result));\r\n            };\r\n            reader.readAsText(file);\r\n        } \r\n\t},\r\n\tmounted() {\r\n\t\t\r\n\t},\r\n});\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SCARA.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SCARA.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SCARA.vue?vue&type=template&id=56b51dc2&scoped=true&\"\nimport script from \"./SCARA.vue?vue&type=script&lang=ts&\"\nexport * from \"./SCARA.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SCARA.vue?vue&type=style&index=0&id=56b51dc2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56b51dc2\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\ninstallComponents(component, {VFileInput})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-slider',{staticStyle:{\"padding\":\"10px 24px\"},attrs:{\"min\":\"-80\",\"max\":\"80\",\"thumb-label\":\"\",\"label\":\"Arm 1 Angle:\"},on:{\"input\":_vm.plotScara},model:{value:(_vm.a1),callback:function ($$v) {_vm.a1=$$v},expression:\"a1\"}}),_c('v-slider',{staticStyle:{\"padding\":\"10px 24px\"},attrs:{\"min\":\"-80\",\"max\":\"80\",\"thumb-label\":\"\",\"label\":\"Arm 2 Angle:\"},on:{\"input\":_vm.plotScara},model:{value:(_vm.a2),callback:function ($$v) {_vm.a2=$$v},expression:\"a2\"}}),_c('div',{staticStyle:{\"border\":\"1px dotted #222\"}},[_c('svg',{attrs:{\"width\":_vm.width,\"height\":_vm.height}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\nconst d3 = Object.assign({},\n    require(\"d3-selection\"),\n    require(\"d3-shape\"),\n    require(\"d3-scale\"),\n    require(\"d3-axis\"), \n    require(\"d3-array\"),\n    require(\"d3-scale-chromatic\"),\n);\n\nimport Vue from \"vue\";\nimport {ScaraConverter, ScaraProps, scara_default_props} from \"@/ScaraConverter\";\n\nexport default Vue.extend({\n    data() {\n        return {\n            a1: 0,\n            a2: 0,\n            width: 500,\n            height: 500,\n            padding: {top: 30, right: 30, bottom: 60, left: 60},\n            plot_area: {\n                width: 400, // in mm\n                height: 400, // in mm\n            }\n        };\n    },\n    methods: {\n        plotScara() {\n            const svg = d3.select(this.$el).select(\"svg\");\n            //d3.selectAll(\".davenport-tooltip\").remove();\n            svg.selectAll(\"*\").remove();\n            if (svg === undefined) return;\n            const plotArea = svg.append(\"g\");\n            plotArea.attr(\"width\", this.width - this.padding.left - this.padding.right)\n                .attr(\"height\", this.height - this.padding.top - this.padding.bottom)\n                .attr(\"transform\", \"translate(\" + this.padding.left + \",\" + this.padding.top + \")\")\n                .attr(\"class\", \"davenport-plot-area\");\n            // Add X axis\n            const xAxis = d3.scaleLinear()\n                .domain([0, this.plot_area.width])\n                .range([ 0, this.width - this.padding.left - this.padding.right ]);\n            plotArea.append(\"g\")\n                .attr(\"transform\", \"translate(0,\" + (this.height - this.padding.bottom - 10) + \")\")\n                .call(d3.axisBottom(xAxis));\n\n            // Add Y axis\n            const yAxis = (d3.scaleLinear() as any)\n                .domain([0, this.plot_area.height])\n                .range([this.height - this.padding.top - this.padding.bottom, 0]);\n            plotArea.append(\"g\")\n                .call(d3.axisLeft().scale(yAxis));\n\n            const a1_start_angle = 90;\n            const a2_start_angle = 90;\n            // Arm 1\n            let a1_x2 = (this.plot_area.width/2) + Math.cos((this.a1 + a1_start_angle)  * Math.PI / 180) * scara_default_props.L1;\n            let a1_y2 = Math.sin((this.a1 + a1_start_angle) * Math.PI / 180) * scara_default_props.L1;\n            plotArea.append(\"line\")\n                .attr(\"x1\", xAxis(this.plot_area.width/2)).attr(\"x2\", xAxis(a1_x2))\n                .attr(\"y1\", yAxis(0)).attr(\"y2\", yAxis(a1_y2))\n                .attr(\"stroke\", \"coral\").attr(\"stroke-width\", 20).attr(\"stroke-linecap\", \"round\")\n            // Arm 2\n            let a2_x2 = a1_x2 + Math.cos((this.a2 + a2_start_angle)  * Math.PI / 180) * scara_default_props.L2;\n            let a2_y2 = a1_y2 + Math.sin((this.a2 + a2_start_angle) * Math.PI / 180) * scara_default_props.L2;\n            plotArea.append(\"line\")\n                .attr(\"x1\", xAxis(a1_x2)).attr(\"x2\", xAxis(a2_x2))\n                .attr(\"y1\", yAxis(a1_y2)).attr(\"y2\", yAxis(a2_y2))\n                .attr(\"stroke\", \"teal\").attr(\"stroke-width\", 20).attr(\"stroke-linecap\", \"round\")\n\n        }\n    },\n    mounted() {\n        this.$nextTick(() => {\n            this.plotScara();\n        })\n    }\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScaraSim.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScaraSim.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ScaraSim.vue?vue&type=template&id=24f524aa&\"\nimport script from \"./ScaraSim.vue?vue&type=script&lang=ts&\"\nexport * from \"./ScaraSim.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSlider } from 'vuetify/lib/components/VSlider';\ninstallComponents(component, {VSlider})\n","import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport Home from \"@/views/Home.vue\";\nimport SCARA from \"@/views/SCARA.vue\";\nimport ScaraSim from \"@/components/ScaraSim.vue\"\n\nVue.use(VueRouter);\n\nconst routes = [\n\t{\n\t\tpath: \"/\",\n\t\tname: \"home\",\n\t\tcomponent: Home,\n\t},\n\t{\n\t\tpath: \"/scara\",\n\t\tname: \"SCARA\",\n\t\tcomponent: SCARA,\n\t},\n\t{\n\t\tpath: \"/sim\",\n\t\tname: \"sim\",\n\t\tcomponent: ScaraSim,\n\t},\n];\n\nconst router = new VueRouter({\n\tmode: \"history\",\n\tbase: process.env.BASE_URL,\n\troutes,\n});\n\nexport default router;\n","import Vue from \"vue\";\nimport Vuex from \"vuex\";\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n\tstate: {},\n\tmutations: {},\n\tactions: {},\n\tmodules: {}\n});\n","/* eslint-disable no-console */\n\nimport { register } from \"register-service-worker\";\n\nif (process.env.NODE_ENV === \"production\") {\n\tregister(`${process.env.BASE_URL}service-worker.js`, {\n\t\tready() {\n\t\t\tconsole.log(\"App is being served from cache by a service worker.\\n\" + \"For more details, visit https://goo.gl/AFskqB\");\n\t\t},\n\t\tregistered() {\n\t\t\tconsole.log(\"Service worker has been registered.\");\n\t\t},\n\t\tcached() {\n\t\t\tconsole.log(\"Content has been cached for offline use.\");\n\t\t},\n\t\tupdatefound() {\n\t\t\tconsole.log(\"New content is downloading.\");\n\t\t},\n\t\tupdated() {\n\t\t\tconsole.log(\"New content is available; please refresh.\");\n\t\t},\n\t\toffline() {\n\t\t\tconsole.log(\"No internet connection found. App is running in offline mode.\");\n\t\t},\n\t\terror(error) {\n\t\t\tconsole.error(\"Error during service worker registration:\", error);\n\t\t}\n\t});\n}\n","import Vue from \"vue\";\nimport Vuetify from \"vuetify\";\nimport \"vuetify/dist/vuetify.min.css\";\n\nVue.use(Vuetify);\n\nimport VuetifyToast from \"vuetify-toast-snackbar\";\nVue.use(VuetifyToast, {\n\tshowClose: false,\n\tcolor: \"#403e4d\",\n});\n\nconst opts = {};\n\nexport default new Vuetify(opts);\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\nimport \"./registerServiceWorker\";\nimport vuetify from \"./plugins/vuetify\";\n\nVue.config.productionTip = false;\n\nVue.config.ignoredElements = [\n\t'a-scene',\n\t'a-assets',\n\t'a-sky',\n\t'a-camera',\n\t'a-cursor',\n\t'a-animation',\n\t'a-entity',\n\t'a-box',\n\t'a-cylinder',\n\t'a-plane'\n]\n\nnew Vue({\n\trouter,\n\tstore,\n\tvuetify,\n\trender: h => h(App)\n}).$mount(\"#app\");\n"],"sourceRoot":""}