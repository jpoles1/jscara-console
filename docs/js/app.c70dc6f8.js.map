{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?8acc","webpack:///./src/components/GcodeCreator.vue?67cf","webpack:///./src/components/FileSaver.js","webpack:///./src/views/SCARA.vue?5e4a","webpack:///./src/views/Home.vue?b8bf","webpack:///./src/App.vue?78c4","webpack:///./src/components/Header.vue?009f","webpack:///./src/components/Header.vue","webpack:///./src/components/Header.vue?6514","webpack:///./src/components/Header.vue?06f1","webpack:///./src/App.vue","webpack:///./src/App.vue?31c5","webpack:///./src/App.vue?68bd","webpack:///./src/serialtypes.ts","webpack:///./src/views/Home.vue?353d","webpack:///./src/serialworker.ts","webpack:///./src/components/ClickToMove.vue?94a7","webpack:///./src/components/ClickToMove.vue","webpack:///./src/components/ClickToMove.vue?6db9","webpack:///./src/components/ClickToMove.vue?ce97","webpack:///./src/components/ScaraSim3D.vue?1d25","webpack:///./src/components/ScaraSim3D.vue","webpack:///./src/components/ScaraSim3D.vue?63a6","webpack:///./src/components/ScaraSim3D.vue?54c0","webpack:///./src/components/GcodeCreator.vue?efb8","webpack:///./src/components/adaptive-linearization/src/index.ts","webpack:///./src/components/OneLineClient.js","webpack:///./src/components/GcodeCreator.vue","webpack:///./src/components/GcodeCreator.vue?4e78","webpack:///./src/components/GcodeCreator.vue?1f4d","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?2352","webpack:///./src/views/Home.vue?b4c0","webpack:///./src/views/SCARA.vue?d0e1","webpack:///./src/ScaraConverter.ts","webpack:///./src/views/SCARA.vue","webpack:///./src/views/SCARA.vue?81ee","webpack:///./src/views/SCARA.vue?62d7","webpack:///./src/components/ScaraSim.vue?4aaf","webpack:///./src/components/ScaraSim.vue","webpack:///./src/components/ScaraSim.vue?a023","webpack:///./src/components/ScaraSim.vue?5730","webpack:///./src/router.ts","webpack:///./src/store.ts","webpack:///./src/registerServiceWorker.ts","webpack:///./src/plugins/vuetify.ts","webpack:///./src/main.ts","webpack:///./src/components/Header.vue?fbf2"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_global","self","global","bom","blob","opts","autoBom","test","type","Blob","String","fromCharCode","download","url","xhr","XMLHttpRequest","open","responseType","onload","saveAs","response","onerror","alert","send","corsEnabled","e","status","click","node","dispatchEvent","MouseEvent","evt","document","createEvent","initMouseEvent","isMacOSWebView","navigator","userAgent","HTMLAnchorElement","URL","webkitURL","a","createElement","rel","href","origin","location","target","createObjectURL","setTimeout","revokeObjectURL","msSaveOrOpenBlob","popup","title","body","innerText","force","isSafari","HTMLElement","safari","isChromeIOS","FileReader","reader","onloadend","replace","readAsDataURL","_vm","this","_h","$createElement","_c","_self","staticStyle","staticRenderFns","$vuetify","breakpoint","attrs","model","callback","$$v","drawer","expression","_l","navEntry","navIndex","on","$event","_v","_s","icon","_e","staticClass","extend","computed","navList","component","VBtn","VIcon","VList","VNavigationDrawer","VSpacer","VToolbar","VToolbarTitle","components","Header","VApp","VContent","MasterCmd","WorkerCmd","serial_connected","nativeOn","indexOf","_k","keyCode","write_cmd_to_serial","recover_prev_cmd","cmd","attempting_to_connect","cancel_connect","serial_connect","origin_scara","write_serial","clear_buffer","ready_to_send","home_scara","jog_inc","$set","_n","Math","max","goto","goto_point","click_move","entry","entryIndex","domProps","gcode_from_gen","undefined","job_prog","round","Number","EPSILON","pow","gcode","send_gcode_job","save_gcode","join","load_gcode_file","Worker_fn","Worker","plot_width","plot_height","props","arm_rad","default","x_offset","y_offset","methods","render_bed","avail_width","scale_coef","arc_rad","center_x","canvas","getElementById","ctx","getContext","clearRect","offsetWidth","offsetHeight","arc","stroke","beginPath","moveTo","lineTo","closePath","click_handler","event","rect","getBoundingClientRect","x","clientX","left","y","clientY","top","$emit","addEventListener","mounted","$nextTick","z","a1","a2","path_str","gcodeParser","uploaded_gcode","a1_start_angle","a2_start_angle","a1_len","a2_len","path","gen_path","gcode_string","prev_pt","pt_array","split","reduce","raw_line","gcode_cmd","parseLine","words","pt","gcode_seg_index","gcode_seg","watch","agg","x2","a1_x2","cos","PI","a2_x2","y2","a1_y2","sin","a2_y2","VSlider","gcode_convert_debounce","active_tab","userText","fontSize","fontOptions","fontName","load_img_file","imageType","photo_to_svg","photo_mode","scopedSlots","_u","fn","directives","rawName","potrace_params","threshold","proxy","squiggle_config","tsp_config","in_progress","auto_regen","style","width","height","position","overflow","margin","svg_x","svg_y","svg_w","svg_h","svg_rot","svg_moved","TAU","DEFAULT_OPTS","approximationScale","curve_distance_epsilon","curveColinearityEpsilon","curveAngleToleranceEpsilon","angleTolerance","recursionLimit","cuspLimit","consumer","svgPathIterator","segment","index","curX","curY","x3","y3","x4","y4","command","short","step","linearize","Error","x1","y1","svgcmd","prevX","prevY","assign","linearizeRecursive","sqrt","level","da1","da2","k","distanceToleranceSquared","x12","y12","x23","y23","x34","y34","x123","y123","x234","y234","x1234","y1234","dx","dy","d2","abs","d3","distanceTo","atan2","nextLevel","worker","onmessage","handleMessage","seq","setImage","array","msg","postMessage","build","options","JSON","stringify","onResult","replaceChildren","elem","childNodes","remove","new_children","append","svgdoc","Document","plot_scale","userInputDebounce","file","photo_upload_max_dim","turdSize","blackOnWhite","black","frequency","amplitude","lineCount","brightness","contrast","minBrightness","maxBrightness","spacing","resolution","whiteCutoff","invert","lineWidth","fg","bg","orig_svg_w","orig_svg_h","raw_photo","photo_blob","raw_svg","clearTimeout","gcode_convert","text_to_svg","display_svg","svg_to_gcode","lift_dist","lin_path","startpt","root_svg","path_chunks","Array","from","querySelectorAll","values","path_elem","raw_path","getAttribute","forEach","chunk","svgpath","scale","rotate","translate","unarc","gcode_cmds","svg_cmds","places","lineConsumer","al","iterate","console","log","map","arr","opentype_promise_font","Promise","resolve","reject","load","err","font","then","getPath","raw_path_bb","getBoundingBox","path_svg","toSVG","svg_elem","createElementNS","innerHTML","setAttribute","set_svg_viewport","getElementsByTagName","bbox","getBBox","aspect_ratio","max_dim","ev","DOMParser","parseFromString","documentElement","readAsText","includes","toBlob","reducedFile","readAsArrayBuffer","trace","svg","photo_to_svg_squiggle","OneLineClient","single_line","config","img","Image","drawImage","imagePixels","getImageData","b","squiggleData","currentLine","currentVerticalPixelIndex","currentHorizontalPixelIndex","contrastFactor","horizontalLineSpacing","floor","line_dir","min","reverse","concat","svg_paths","svg_path","point","src","id","w","h","angle","render_workarea","VCard","VCheckbox","VFileInput","VRadio","VRadioGroup","VSelect","VTab","VTabItem","VTabs","VTabsItems","VTextField","Ripple","serialworker","ClickToMove","ScaraSim3D","GcodeCreator","send_buffer","last_resp","send_buffer_interval","send_log","send_log_index","recv_buffer","serial_log","writer","regen_debounce","raw_gcode","fold_up","fold_up_cmd_lines","home_cmd_lines","cmd_lines","gcode_line_index","gcode_line","inc","unshift","PushToBuffer","serial","requestPort","SerialConnect","filter","ClearBuffer","StartJob","notSupported","display","SerialConnected","SerialRecv","JobProg","$toast","color","SerialError","VContainer","VExpansionPanel","VExpansionPanelContent","VExpansionPanelHeader","VExpansionPanels","VProgressLinear","VRow","Hand","scara_default_props","L1","L2","a1_driver_teeth","a1_receiver_teeth","a1_steps_per_rev","a2_driver_teeth","a2_receiver_teeth","a2_secondary_receiver_teeth","a2_steps_per_rev","max_speed","x_estop_offset","y_estop_offset","error_reporter","last_hand","Right","inner_rad","skew","feed_rate","pref_hand","max_seg_length","scara_props","move_pos","X","Y","Z","F","E","start","end","next_pos","error","cart_to_scara","flip_hand","scara_pos","hand","R","hypot","gamma","acos","isNaN","valid_point","d1","parseFloat","toFixed","current_pos","cartesian_feedrate","handedness","travel_dist","x_dot","y_dot","c_dot","omega_c","omega_a","omega_b","omega","scara_distance","map_cartesian_to_scara","ceil","fill","_","interpolate","pos","newPos","hypAngle","next_cmd_str","cmd_list","next_cmd","rapid","parse_gcode_move","np","gcode_lines","converted_gcode","plot_scara_move","scara","download_gcode","filename","element","encodeURIComponent","appendChild","removeChild","convert_cartesian_to_scara","plotScara","padding","right","bottom","plot_area","select","$el","selectAll","plotArea","attr","xAxis","scaleLinear","domain","range","axisBottom","yAxis","axisLeft","use","routes","Home","SCARA","ScaraSim","router","base","Store","state","mutations","actions","ready","registered","cached","updatefound","updated","offline","showClose","theme","dark","productionTip","ignoredElements","drr","store","vuetify","render","App","$mount"],"mappings":"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","file":"js/app.c70dc6f8.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/jscara-console/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([1,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GcodeCreator.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GcodeCreator.vue?vue&type=style&index=0&lang=css&\"","/*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n*\n* By Eli Grey, http://eligrey.com\n*\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n* source  : http://purl.eligrey.com/github/FileSaver.js\n*/\n\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\n\n/* eslint-disable */\n\nvar _global = typeof window === 'object' && window.window === window\n  ? window : typeof self === 'object' && self.self === self\n  ? self : typeof global === 'object' && global.global === global\n  ? global\n  : this\n\nfunction bom (blob, opts) {\n  if (typeof opts === 'undefined') opts = { autoBom: false }\n  else if (typeof opts !== 'object') {\n    opts = { autoBom: !opts }\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\n  }\n  return blob\n}\n\nfunction download (url, name, opts) {\n  var xhr = new XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'blob'\n  xhr.onload = function () {\n    saveAs(xhr.response, name, opts)\n  }\n  xhr.onerror = function () {\n    alert('Error: could not download file!')\n  }\n  xhr.send()\n}\n\nfunction corsEnabled (url) {\n  var xhr = new XMLHttpRequest()\n  // use sync to avoid popup blocker\n  xhr.open('HEAD', url, false)\n  try {\n    xhr.send()\n  } catch (e) {}\n  return xhr.status >= 200 && xhr.status <= 299\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click (node) {\n  try {\n    node.dispatchEvent(new MouseEvent('click'))\n  } catch (e) {\n    var evt = document.createEvent('MouseEvents')\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\n                          20, false, false, false, false, 0, null)\n    node.dispatchEvent(evt)\n  }\n}\n\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nvar isMacOSWebView = /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent)\n\nvar saveAs = (\n  // probably in some web worker\n  (typeof window !== 'object' || window !== _global)\n    ? function saveAs () { /* noop */ }\n\n  // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView\n  : ('download' in HTMLAnchorElement.prototype && !isMacOSWebView)\n  ? function saveAs (blob, name, opts) {\n    var URL = _global.URL || _global.webkitURL\n    var a = document.createElement('a')\n    name = name || blob.name || 'download'\n\n    a.download = name\n    a.rel = 'noopener' // tabnabbing\n\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n\n    if (typeof blob === 'string') {\n      // Support regular links\n      a.href = blob\n      if (a.origin !== location.origin) {\n        corsEnabled(a.href)\n          ? download(blob, name, opts)\n          : click(a, a.target = '_blank')\n      } else {\n        click(a)\n      }\n    } else {\n      // Support blobs\n      a.href = URL.createObjectURL(blob)\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\n      setTimeout(function () { click(a) }, 0)\n    }\n  }\n\n  // Use msSaveOrOpenBlob as a second approach\n  : 'msSaveOrOpenBlob' in navigator\n  ? function saveAs (blob, name, opts) {\n    name = name || blob.name || 'download'\n\n    if (typeof blob === 'string') {\n      if (corsEnabled(blob)) {\n        download(blob, name, opts)\n      } else {\n        var a = document.createElement('a')\n        a.href = blob\n        a.target = '_blank'\n        setTimeout(function () { click(a) })\n      }\n    } else {\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\n    }\n  }\n\n  // Fallback to using FileReader and a popup\n  : function saveAs (blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank')\n    if (popup) {\n      popup.document.title =\n      popup.document.body.innerText = 'downloading...'\n    }\n\n    if (typeof blob === 'string') return download(blob, name, opts)\n\n    var force = blob.type === 'application/octet-stream'\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\n\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) && typeof FileReader !== 'undefined') {\n      // Safari doesn't allow downloading of blob URLs\n      var reader = new FileReader()\n      reader.onloadend = function () {\n        var url = reader.result\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\n        if (popup) popup.location.href = url\n        else location = url\n        popup = null // reverse-tabnabbing #460\n      }\n      reader.readAsDataURL(blob)\n    } else {\n      var URL = _global.URL || _global.webkitURL\n      var url = URL.createObjectURL(blob)\n      if (popup) popup.location = url\n      else location.href = url\n      popup = null // reverse-tabnabbing #460\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\n    }\n  }\n)\n\nexport default saveAs","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SCARA.vue?vue&type=style&index=0&id=56b51dc2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SCARA.vue?vue&type=style&index=0&id=56b51dc2&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('Header'),_c('v-content',{staticStyle:{\"margin-top\":\"20px\"}},[_c('router-view')],1),_c('Footer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.$vuetify.breakpoint.xsOnly)?_c('v-navigation-drawer',{attrs:{\"clipped\":\"\",\"mobile-break-point\":\"600\",\"width\":\"180\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-list',{attrs:{\"shaped\":\"\"}},_vm._l((_vm.navList),function(navEntry,navIndex){return _c('v-list-tile',{key:navIndex,attrs:{\"to\":navEntry.url,\"draggable\":false},on:{\"click\":function($event){_vm.drawer = false}}},[(navEntry.icon)?_c('v-list-tile-action',{staticStyle:{\"margin-right\":\"0px\"}},[_c('v-icon',[_vm._v(_vm._s(navEntry.icon || \"grip-lines\"))])],1):_vm._e(),_c('v-list-tile-content',[_c('v-list-tile-title',{staticStyle:{\"font-size\":\"120%\"}},[_vm._v(\" \"+_vm._s(navEntry.name)+\" \")])],1)],1)}),1)],1):_vm._e(),_c('v-toolbar',[(_vm.$vuetify.breakpoint.xsOnly)?_c('span',[_c('div',{on:{\"click\":function($event){_vm.drawer = !_vm.drawer}}},[_c('v-icon',[_vm._v(\"fa-bars\")])],1)]):_vm._e(),_c('v-toolbar-title',{staticClass:\"headline\"},[_c('router-link',{staticClass:\"header-logo\",staticStyle:{\"text-decoration\":\"none\",\"color\":\"white\"},attrs:{\"to\":\"/\"}},[_c('span',[_vm._v(\"JSCARA\")])])],1),(_vm.$vuetify.breakpoint.smAndUp)?_c('v-spacer'):_vm._e(),(_vm.$vuetify.breakpoint.smAndUp)?_c('span',_vm._l((_vm.navList),function(navEntry,navIndex){return _c('v-btn',{key:navIndex,staticClass:\"header-nav\",attrs:{\"to\":navEntry.url}},[_c('span',{staticClass:\"mr-2\"},[_vm._v(_vm._s(navEntry.name))]),_c('v-icon',[_vm._v(\"fas \"+_vm._s(navEntry.icon))])],1)}),1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nexport default Vue.extend({\n\tdata() {\n\t\treturn {\n\t\t\tdrawer: false,\n\t\t};\n\t},\n\tcomputed: {\n\t\tnavList(): any {\n\t\t\tconst navList: any[] = [];\n\t\t\t//navList.push({ name: \"Genius\", icon: \"fa-user-cog\", url: \"/\" });\n\t\t\treturn navList;\n\t\t},\n\t},\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=4afca754&scoped=true&\"\nimport script from \"./Header.vue?vue&type=script&lang=ts&\"\nexport * from \"./Header.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Header.vue?vue&type=style&index=0&id=4afca754&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4afca754\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VIcon,VList,VNavigationDrawer,VSpacer,VToolbar,VToolbarTitle})\n","\n\n\n\n\n\n\n\n\n\n\nimport Header from \"@/components/Header.vue\";\nimport Vue from \"vue\";\nexport default Vue.extend({\n\tname: \"App\",\n\tcomponents: {\n\t\tHeader,\n\t},\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=016e5d66&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VContent } from 'vuetify/lib/components/VContent';\ninstallComponents(component, {VApp,VContent})\n","export interface WorkerMsg {\n    type: MasterCmd | WorkerCmd\n    data: any \n}\n\nexport enum MasterCmd {\n    SerialConnect,\n    PushToBuffer,\n    ReplaceBuffer,\n    ClearBuffer,\n    StartJob,\n}\n\nexport enum WorkerCmd {\n    SerialConnected,\n    SerialError,\n    SerialRecv,\n    JobProg,\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticStyle:{\"padding-left\":\"24px\"},attrs:{\"id\":\"serial-pane\"}},[_c('div',{attrs:{\"id\":\"notSupported\"}},[_vm._v(\" Sorry, \"),_c('b',[_vm._v(\"Web Serial\")]),_vm._v(\" is not supported on this device, make sure you're running Chrome 78 or later and have enabled the \"),_c('code',[_vm._v(\"#enable-experimental-web-platform-features\")]),_vm._v(\" flag in \"),_c('code',[_vm._v(\"chrome://flags\")])]),_c('v-card',{staticStyle:{\"padding\":\"14px\",\"margin-bottom\":\"12px\"}},[(!_vm.serial_connected)?_c('div',[(!_vm.attempting_to_connect)?_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.serial_connect}},[_vm._v(\" Connect to SCARA \")]):_c('v-btn',{attrs:{\"color\":\"error\"},on:{\"click\":function($event){_vm.cancel_connect = true}}},[_vm._v(\" Cancel Connect to SCARA \")])],1):_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('v-text-field',{staticStyle:{\"max-width\":\"500px\",\"margin-right\":\"30px\"},attrs:{\"label\":\"GCODE Command\",\"outlined\":\"\",\"autocomplete\":\"off\"},nativeOn:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.write_cmd_to_serial($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"up\",38,$event.key,[\"Up\",\"ArrowUp\"])){ return null; }return _vm.recover_prev_cmd(1)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"down\",40,$event.key,[\"Down\",\"ArrowDown\"])){ return null; }return _vm.recover_prev_cmd(-1)}]},model:{value:(_vm.cmd),callback:function ($$v) {_vm.cmd=$$v},expression:\"cmd\"}}),_c('v-btn',{staticStyle:{\"transform\":\"scale(1.2)\"},on:{\"click\":_vm.write_cmd_to_serial}},[_vm._v(\" Send \")])],1),(_vm.serial_connected)?_c('div',[_c('v-btn',{staticStyle:{\"transform\":\"scale(0.85)\"},on:{\"click\":_vm.origin_scara}},[_vm._v(\" Origin \")]),_c('v-btn',{staticStyle:{\"transform\":\"scale(0.85)\"},on:{\"click\":function($event){return _vm.write_serial('G92 X0 Y0\\n')}}},[_vm._v(\" XY=0 \")]),_c('v-btn',{staticStyle:{\"transform\":\"scale(0.85)\"},on:{\"click\":function($event){return _vm.write_serial('G92 Z0\\n')}}},[_vm._v(\" Z=0 \")]),_c('v-btn',{staticStyle:{\"transform\":\"scale(0.85)\"},on:{\"click\":function($event){return _vm.write_serial('G92 X0 Y0 Z0\\n')}}},[_vm._v(\" XYZ=0 \")]),_c('br'),_c('v-btn',{staticStyle:{\"transform\":\"scale(0.85)\"},on:{\"click\":_vm.clear_buffer}},[_vm._v(\" Clear Buffer \")]),_c('v-btn',{staticStyle:{\"transform\":\"scale(0.85)\"},on:{\"click\":function($event){_vm.write_serial('M410\\n'); _vm.ready_to_send=true}}},[_vm._v(\" Quickstop \")]),_c('v-btn',{staticStyle:{\"transform\":\"scale(0.85)\"},on:{\"click\":function($event){return _vm.write_serial('M112\\n')}}},[_vm._v(\" E-Stop \")]),_c('br'),_c('v-btn',{staticStyle:{\"transform\":\"scale(0.85)\"},on:{\"click\":function($event){return _vm.home_scara()}}},[_vm._v(\" Home \")]),_c('v-btn',{staticStyle:{\"transform\":\"scale(0.85)\"},on:{\"click\":function($event){return _vm.home_scara(true)}}},[_vm._v(\" Fold-Up \")]),_c('v-btn',{staticStyle:{\"transform\":\"scale(0.85)\"},on:{\"click\":function($event){return _vm.write_serial('M18\\n')}}},[_vm._v(\" Release \")]),_c('br'),_c('v-btn',{staticStyle:{\"transform\":\"scale(0.85)\"},on:{\"click\":function($event){return _vm.write_serial('M106 S255\\n')}}},[_vm._v(\" Suck On \")]),_c('v-btn',{staticStyle:{\"transform\":\"scale(0.85)\"},on:{\"click\":function($event){return _vm.write_serial('M106 S0\\n')}}},[_vm._v(\" Suck Off \")]),_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"stretch\"}},[_c('div',{staticClass:\"jog-box\"},[_c('div',{staticClass:\"jog-col\"},[_c('v-text-field',{staticStyle:{\"text-align\":\"center\"},attrs:{\"type\":\"number\",\"step\":\"5\"},model:{value:(_vm.jog_inc['x']),callback:function ($$v) {_vm.$set(_vm.jog_inc, 'x', _vm._n($$v))},expression:\"jog_inc['x']\"}}),_c('v-btn',{staticClass:\"jog-btn\",on:{\"click\":function($event){return _vm.write_serial('G91\\nG0 X' + _vm.jog_inc['x'] + '\\nG90\\n')}}},[_vm._v(\" +X \")]),_c('v-btn',{staticClass:\"jog-btn\",on:{\"click\":function($event){return _vm.write_serial('G91\\nG0 X-' + _vm.jog_inc['x'] + '\\nG90\\n')}}},[_vm._v(\" -X \")])],1),_c('div',{staticClass:\"jog-col\"},[_c('v-text-field',{staticStyle:{\"text-align\":\"center\"},attrs:{\"type\":\"number\",\"step\":\"5\"},model:{value:(_vm.jog_inc['y']),callback:function ($$v) {_vm.$set(_vm.jog_inc, 'y', _vm._n($$v))},expression:\"jog_inc['y']\"}}),_c('v-btn',{staticClass:\"jog-btn\",on:{\"click\":function($event){return _vm.write_serial('G91\\nG0 Y' + _vm.jog_inc['y'] + '\\nG90\\n')}}},[_vm._v(\" +Y \")]),_c('v-btn',{staticClass:\"jog-btn\",on:{\"click\":function($event){return _vm.write_serial('G91\\nG0 Y-' + _vm.jog_inc['y'] + '\\nG90\\n')}}},[_vm._v(\" -Y \")])],1),_c('div',{staticClass:\"jog-col\"},[_c('v-text-field',{staticStyle:{\"text-align\":\"center\"},attrs:{\"type\":\"number\",\"step\":\"5\"},model:{value:(_vm.jog_inc['z']),callback:function ($$v) {_vm.$set(_vm.jog_inc, 'z', _vm._n($$v))},expression:\"jog_inc['z']\"}}),_c('v-btn',{staticClass:\"jog-btn\",on:{\"click\":function($event){_vm.write_serial('G91\\nG0 Z' + Math.max(1, _vm.jog_inc['z']) + '\\nG90\\n')}}},[_vm._v(\" +Z \")]),_c('v-btn',{staticClass:\"jog-btn\",on:{\"click\":function($event){_vm.write_serial('G91\\nG0 Z-' + Math.max(1, _vm.jog_inc['z']) + '\\nG90\\n')}}},[_vm._v(\" -Z \")])],1)]),_c('div',{staticStyle:{\"width\":\"240px\",\"margin\":\"10px 20px\",\"padding\":\"16px 30px\",\"background-color\":\"#db7676\",\"border-radius\":\"10px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"center\",\"flex-direction\":\"column\"}},[_c('v-row',[_c('v-text-field',{staticStyle:{\"width\":\"100px\"},attrs:{\"type\":\"number\",\"label\":\"X Position\"},model:{value:(_vm.goto.x),callback:function ($$v) {_vm.$set(_vm.goto, \"x\", _vm._n($$v))},expression:\"goto.x\"}}),_c('div'),_c('v-text-field',{staticStyle:{\"width\":\"100px\"},attrs:{\"type\":\"number\",\"label\":\"Y Position\"},model:{value:(_vm.goto.y),callback:function ($$v) {_vm.$set(_vm.goto, \"y\", _vm._n($$v))},expression:\"goto.y\"}})],1),_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-btn',{on:{\"click\":_vm.goto_point}},[_vm._v(\"Go To\")])],1)],1),_c('ClickToMove',{on:{\"move\":_vm.click_move}})],1)],1):_vm._e(),_c('div',{staticStyle:{\"margin-top\":\"14px\",\"min-height\":\"20vh\",\"max-height\":\"30vh\",\"width\":\"100%\",\"overflow-y\":\"scroll\",\"border\":\"1px dotted #333\"}},_vm._l((_vm.serial_log),function(entry,entryIndex){return _c('span',{key:entryIndex,domProps:{\"innerHTML\":_vm._s(entry)}})}),0)]),_c('v-expansion-panels',{attrs:{\"multiple\":\"\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',{attrs:{\"color\":\"#333\"}},[_vm._v(\" GCode Creator \")]),_c('v-expansion-panel-content',[_c('GcodeCreator',{on:{\"gcodegen\":_vm.gcode_from_gen}}),_c('br'),(_vm.job_prog != undefined)?_c('v-progress-linear',{staticStyle:{\"max-width\":\"400px\"},attrs:{\"height\":\"25\"},model:{value:(_vm.job_prog),callback:function ($$v) {_vm.job_prog=$$v},expression:\"job_prog\"}},[_c('strong',[_vm._v(_vm._s(Math.round((_vm.job_prog + Number.EPSILON) * Math.pow( 10, 2 )) / Math.pow( 10, 2 ))+\"%\")])]):_vm._e(),_c('br'),(_vm.gcode.length > 0)?_c('v-btn',{on:{\"click\":_vm.send_gcode_job}},[_vm._v(\" Send GCODE \")]):_vm._e(),(_vm.gcode.length > 0)?_c('v-btn',{on:{\"click\":function($event){_vm.save_gcode(_vm.gcode.join('\\n'))}}},[_vm._v(\" Save GCODE \")]):_vm._e()],1)],1),_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\" GCode Uploader \")]),_c('v-expansion-panel-content',[_c('v-file-input',{attrs:{\"placeholder\":\"Upload Cartesian GCODE\"},on:{\"change\":_vm.load_gcode_file}}),_c('br'),(_vm.gcode.length > 0)?_c('v-btn',{on:{\"click\":_vm.send_gcode_job}},[_vm._v(\" Send Converted GCODE \")]):_vm._e()],1)],1),_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\" SCARA Sim \")]),_c('v-expansion-panel-content',[_c('ScaraSim3D',{attrs:{\"uploaded_gcode\":_vm.gcode.join('\\n')}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function Worker_fn() {\n  return new Worker(__webpack_public_path__ + \"js/serialworker.5327dec7.worker.js\");\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('center',[_c('h4',[_vm._v(\"Click To Jog\")]),_c('canvas',{staticStyle:{\"border\":\"1px solid black\"},attrs:{\"id\":\"click-move-canvas\",\"width\":_vm.plot_width,\"height\":_vm.plot_height}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\nimport opentype from \"opentype.js\"\nimport AdaptiveLinearization from \"adaptive-linearization\"\nimport SVGPath from \"svgpath\"\nimport Vue from \"vue\"\nexport default Vue.extend({\n    props: {\n        arm_rad: {\n            default: 240,\n            type: Number,\n        },\n        x_offset: {\n            default: 0,\n            type: Number,\n        },\n        y_offset: {\n            default: 0,\n            type: Number,\n        },\n    },\n    data() {\n        return {\n            plot_width: 300, \n            plot_height: 150,\n        }\n    },\n    methods: {\n        render_bed() {\n            const avail_width =  this.plot_width - 20;\n            const scale_coef =  (avail_width / 2) / (this.arm_rad + 10)\n            const arc_rad = this.arm_rad * 2 < avail_width ? this.arm_rad : (this.arm_rad * scale_coef);\n            const center_x = arc_rad / 2 + ((this.plot_width  - arc_rad) / 2)\n            // Clear out the canvas\n            const canvas = document.getElementById(\"click-move-canvas\") as HTMLCanvasElement\n            const ctx = canvas!.getContext(\"2d\");\n            ctx!.clearRect(0, 0, canvas!.offsetWidth, canvas!.offsetHeight);\n            ctx!.arc(center_x, 0, arc_rad, 0, 180)\n            ctx!.stroke()\n            ctx!.beginPath();\n            ctx!.moveTo(center_x, 0);\n            ctx!.lineTo(center_x, arc_rad);\n            ctx!.closePath();\n            ctx!.stroke()\n            \n            //Click event\n            const click_handler = (event: any) => {\n                const rect = canvas.getBoundingClientRect()\n                const x = event.clientX - rect.left - center_x\n                const y = event.clientY - rect.top\n                this.$emit(\"move\", [-x / scale_coef, y / scale_coef]);\n            }\n            canvas.addEventListener('mousedown', click_handler)\n        },\n    },\n    mounted() {\n        this.$nextTick(() => {\n            this.render_bed()\n        })\n    }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClickToMove.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClickToMove.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ClickToMove.vue?vue&type=template&id=0d1411c7&\"\nimport script from \"./ClickToMove.vue?vue&type=script&lang=ts&\"\nexport * from \"./ClickToMove.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-scene',{staticStyle:{\"width\":\"600px\",\"height\":\"400px\",\"margin\":\"auto\"},attrs:{\"embedded\":\"\",\"vr-mode-ui\":\"enabled: false\"}},[_c('a-entity',[_c('a-cylinder',{attrs:{\"position\":\"0 140 -44\",\"radius\":\"8\",\"height\":\"280\",\"color\":\"#444444\"}}),_c('a-cylinder',{attrs:{\"position\":\"0 100 0\",\"radius\":\"12\",\"height\":\"200\",\"color\":\"#CCCCCC\",\"metalness\":\"0.5\"}}),_c('a-cylinder',{attrs:{\"position\":\"42 100 -60\",\"radius\":\"12\",\"height\":\"200\",\"color\":\"#CCCCCC\",\"metalness\":\"0.5\"}}),_c('a-cylinder',{attrs:{\"position\":\"-42 100 -60\",\"radius\":\"12\",\"height\":\"200\",\"color\":\"#CCCCCC\",\"metalness\":\"0.5\"}})],1),_c('a-entity',{attrs:{\"position\":'0 ' + _vm.z + ' 0'}},[_c('a-box',{attrs:{\"height\":\"5\",\"width\":\"130\",\"depth\":\"140\",\"position\":\"0 0 -30\"}}),_c('a-entity',{attrs:{\"rotation\":'0 ' + _vm.a1 + ' 0',\"position\":\"0 10 0\"}},[_c('a-box',{attrs:{\"height\":\"10\",\"width\":\"50\",\"depth\":\"140\",\"position\":\"0 0 70\"}}),_c('a-cylinder',{attrs:{\"position\":\"0 0 0\",\"radius\":\"25\",\"height\":\"10\"}}),_c('a-cylinder',{attrs:{\"position\":\"0 0 140\",\"radius\":\"25\",\"height\":\"10\"}}),_c('a-entity',{attrs:{\"rotation\":'0 ' + _vm.a2 + ' 0',\"position\":\"0 10 140\"}},[_c('a-box',{attrs:{\"height\":\"10\",\"width\":\"50\",\"depth\":\"140\",\"position\":\"0 0 70\"}}),_c('a-cylinder',{attrs:{\"position\":\"0 0 0\",\"radius\":\"25\",\"height\":\"10\"}}),_c('a-cylinder',{attrs:{\"position\":\"0 0 140\",\"radius\":\"25\",\"height\":\"10\"}}),_c('a-cylinder',{attrs:{\"position\":\"0 -80 140\",\"radius\":\"5\",\"height\":\"160\",\"color\":\"black\"}})],1)],1)],1),_c('a-entity',{attrs:{\"meshline\":'lineWidth: 5; path: ' + _vm.path_str + '; color: #E20049',\"position\":_vm.x_offset + ' 20 ' + _vm.y_offset}}),_c('a-plane',{attrs:{\"position\":\"0 0 0\",\"rotation\":\"-90 0 0\",\"width\":\"400\",\"height\":\"400\",\"color\":\"#7BC8A4\"}}),_c('a-sky',{attrs:{\"color\":\"#ECECEC\"}}),_c('a-entity',{attrs:{\"camera\":\"\",\"look-controls\":\"\",\"orbit-controls\":\"target: 0 0 0; minDistance: 200; maxDistance: 600; initialPosition: 200 200 200\"}})],1),_c('br'),_c('br'),_c('v-slider',{attrs:{\"label\":\"Near Arm Angle\",\"thumb-color\":\"red\",\"thumb-label\":\"always\",\"min\":\"-90\",\"max\":\"90\"},model:{value:(_vm.a1),callback:function ($$v) {_vm.a1=$$v},expression:\"a1\"}}),_c('v-slider',{attrs:{\"label\":\"Far Arm Angle \",\"thumb-color\":\"red\",\"thumb-label\":\"always\",\"min\":\"-90\",\"max\":\"90\"},model:{value:(_vm.a2),callback:function ($$v) {_vm.a2=$$v},expression:\"a2\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst gcodeParser = require('gcode-parser');\nimport Vue from 'vue'\nexport default Vue.extend({\n    props: {\n        x_offset: Number,\n        y_offset: Number,\n        uploaded_gcode: String,\n    },\n    data() {\n        return {\n            z: 180,\n            a1: 0,\n            a2: 0,\n            a1_start_angle: 0,\n            a2_start_angle: 0,\n            a1_len: 140,\n            a2_len: 140,\n            path: [] as number[][]\n        }\n    },\n    methods: {\n        gen_path(gcode_string: string) {\n            gcode_string = gcode_string.replace(/[N]\\d+(?= [^G])/g, \"G1\");\n            gcode_string = gcode_string.replace(/[N]\\d+ /g, \"\");\n            var prev_pt = [0, 0, 0];\n            let pt_array = gcode_string.split(\"\\n\").reduce((pt_array: number[][], raw_line: string) => {\n                let gcode_cmd = gcodeParser.parseLine(raw_line);\n                if(gcode_cmd.words.length === 0) {\n                    return pt_array;\n                }\n                let pt = prev_pt.slice();\n                for (const gcode_seg_index in gcode_cmd.words) {\n                    const gcode_seg = gcode_cmd.words[gcode_seg_index];\n                    if(gcode_seg[0] === \"X\") {\n                        pt[0] = gcode_seg[1]\n                    }\n                    if(gcode_seg[0] === \"Y\") {\n                        pt[2] = gcode_seg[1]\n                    }\n                    if(gcode_seg[0] === \"Z\") {\n                        pt[1] = gcode_seg[1]\n                    }\n                }\n                prev_pt = pt;\n                pt_array.push(pt);\n                return pt_array\n            }, []);\n            this.path = pt_array\n        },\n    },\n    watch: {\n        uploaded_gcode() {\n            this.gen_path(this.uploaded_gcode);\n        }\n    },\n    computed: {\n        path_str(): string {\n            return this.path.reduce((agg: string, pt: number[]) => {\n                return `${agg}${agg != \"\" ? \",\" : \"\"} ${pt[0]} ${pt[1]} ${pt[2]}`\n            }, \"\");\n        },\n        x2(): number {\n            let a1_x2 = Math.cos((this.a1 + this.a1_start_angle)  * Math.PI / 180) * this.a1_len;\n            let a2_x2 = a1_x2 + Math.cos((this.a2 + this.a2_start_angle)  * Math.PI / 180) * this.a2_len;\n            return a2_x2;\n        },\n        y2(): number {\n            let a1_y2 = Math.sin((this.a1 + this.a1_start_angle) * Math.PI / 180) * this.a1_len;\n            let a2_y2 = a1_y2 + Math.sin((this.a2 + this.a2_start_angle) * Math.PI / 180) * this.a2_len;\n            return a2_y2;\n        }\n    },\n    mounted() {\n        this.$nextTick(() => {\n            this.gen_path(this.uploaded_gcode);\n        });\n    }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScaraSim3D.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScaraSim3D.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ScaraSim3D.vue?vue&type=template&id=6e11d8ee&\"\nimport script from \"./ScaraSim3D.vue?vue&type=script&lang=ts&\"\nexport * from \"./ScaraSim3D.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSlider } from 'vuetify/lib/components/VSlider';\ninstallComponents(component, {VSlider})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card',{staticStyle:{\"padding-bottom\":\"10px\"},attrs:{\"color\":\"#333\"}},[_c('v-tabs',{staticStyle:{\"color\":\"white\"},attrs:{\"background-color\":\"grey darken-4\"},on:{\"change\":_vm.gcode_convert_debounce},model:{value:(_vm.active_tab),callback:function ($$v) {_vm.active_tab=$$v},expression:\"active_tab\"}},[_c('v-tab',{key:\"txt\"},[_vm._v(\"Text\")]),_c('v-tab',{key:\"img\"},[_vm._v(\"Image\")]),_c('v-tabs-items',{staticStyle:{\"background-color\":\"#333\",\"padding\":\"10px\"},model:{value:(_vm.active_tab),callback:function ($$v) {_vm.active_tab=$$v},expression:\"active_tab\"}},[_c('v-tab-item',{key:\"txt\"},[_c('div',{staticStyle:{\"width\":\"500px\",\"max-width\":\"100%\",\"display\":\"flex\",\"flex-wrap\":\"wrap\",\"justify-content\":\"space-around\"}},[_c('v-text-field',{attrs:{\"label\":\"Custom Text\"},on:{\"change\":_vm.gcode_convert_debounce},model:{value:(_vm.userText),callback:function ($$v) {_vm.userText=$$v},expression:\"userText\"}}),_c('v-text-field',{attrs:{\"type\":\"number\",\"label\":\"Font Size\"},on:{\"change\":_vm.gcode_convert_debounce},model:{value:(_vm.fontSize),callback:function ($$v) {_vm.fontSize=_vm._n($$v)},expression:\"fontSize\"}}),_c('v-select',{attrs:{\"items\":_vm.fontOptions,\"label\":\"Font\",\"item-text\":\"name\",\"item-value\":\"file\"},on:{\"change\":_vm.gcode_convert_debounce},model:{value:(_vm.fontName),callback:function ($$v) {_vm.fontName=$$v},expression:\"fontName\"}})],1)]),_c('v-tab-item',{key:\"img\"},[_c('div',{staticStyle:{\"width\":\"500px\",\"max-width\":\"100%\"}},[_c('v-file-input',{attrs:{\"placeholder\":\"Upload Image\",\"accept\":\".svg,.png,.jpg,.jpeg\"},on:{\"change\":_vm.load_img_file}}),(_vm.imageType == 'photo')?_c('div',[_c('br'),_c('v-radio-group',{attrs:{\"row\":\"\"},on:{\"change\":_vm.photo_to_svg},model:{value:(_vm.photo_mode),callback:function ($$v) {_vm.photo_mode=$$v},expression:\"photo_mode\"}},[_c('v-radio',{attrs:{\"value\":\"squiggle\",\"label\":\"Squiggle\"}}),_c('v-radio',{attrs:{\"value\":\"tsp\",\"label\":\"Traveling Salesman\"}}),_c('v-radio',{attrs:{\"value\":\"potrace\",\"label\":\"Potrace\"}})],1),_c('br'),(_vm.photo_mode == 'potrace')?_c('div',[_c('v-slider',{attrs:{\"thumb-label\":\"always\",\"min\":\"-1\",\"max\":\"255\",\"label\":\"Threshold\"},on:{\"change\":_vm.photo_to_svg},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('v-icon',{directives:[{name:\"ripple\",rawName:\"v-ripple\"},{name:\"show\",rawName:\"v-show\",value:(_vm.potrace_params.threshold != -1),expression:\"potrace_params.threshold != -1\"}],on:{\"click\":function($event){_vm.potrace_params.threshold = -1}}},[_vm._v(\" mdi-replay \")])]},proxy:true}],null,false,1542438017),model:{value:(_vm.potrace_params.threshold),callback:function ($$v) {_vm.$set(_vm.potrace_params, \"threshold\", $$v)},expression:\"potrace_params.threshold\"}}),_c('br'),_c('v-slider',{attrs:{\"thumb-label\":\"always\",\"min\":\"0\",\"max\":\"50\",\"label\":\"Min Speckle Size\"},on:{\"change\":_vm.photo_to_svg},model:{value:(_vm.potrace_params.turdSize),callback:function ($$v) {_vm.$set(_vm.potrace_params, \"turdSize\", $$v)},expression:\"potrace_params.turdSize\"}}),_c('br'),_c('v-checkbox',{attrs:{\"label\":\"Invert\"},on:{\"change\":_vm.photo_to_svg},model:{value:(_vm.potrace_params.blackOnWhite),callback:function ($$v) {_vm.$set(_vm.potrace_params, \"blackOnWhite\", $$v)},expression:\"potrace_params.blackOnWhite\"}})],1):_vm._e(),(_vm.photo_mode == 'squiggle')?_c('div',[_c('v-slider',{attrs:{\"thumb-label\":\"always\",\"min\":\"5\",\"max\":\"256\",\"label\":\"Frequency\"},on:{\"change\":_vm.photo_to_svg},model:{value:(_vm.squiggle_config.frequency),callback:function ($$v) {_vm.$set(_vm.squiggle_config, \"frequency\", $$v)},expression:\"squiggle_config.frequency\"}}),_c('v-slider',{attrs:{\"thumb-label\":\"always\",\"min\":\"10\",\"max\":\"200\",\"label\":\"# Lines\"},on:{\"change\":_vm.photo_to_svg},model:{value:(_vm.squiggle_config.lineCount),callback:function ($$v) {_vm.$set(_vm.squiggle_config, \"lineCount\", $$v)},expression:\"squiggle_config.lineCount\"}}),_c('v-slider',{attrs:{\"thumb-label\":\"always\",\"min\":\"0.1\",\"max\":\"5\",\"step\":\"0.1\",\"label\":\"Amplitude\"},on:{\"change\":_vm.photo_to_svg},model:{value:(_vm.squiggle_config.amplitude),callback:function ($$v) {_vm.$set(_vm.squiggle_config, \"amplitude\", $$v)},expression:\"squiggle_config.amplitude\"}}),_c('v-slider',{attrs:{\"thumb-label\":\"always\",\"min\":\"0.5\",\"max\":\"3\",\"step\":\"0.1\",\"label\":\"Sampling\"},on:{\"change\":_vm.photo_to_svg},model:{value:(_vm.squiggle_config.spacing),callback:function ($$v) {_vm.$set(_vm.squiggle_config, \"spacing\", $$v)},expression:\"squiggle_config.spacing\"}})],1):_vm._e(),(_vm.photo_mode == 'tsp')?_c('div',[_c('v-slider',{attrs:{\"thumb-label\":\"always\",\"min\":\"5\",\"max\":\"30\",\"label\":\"Resolution\",\"disabled\":_vm.tsp_config.in_progress},on:{\"change\":function($event){_vm.tsp_config.auto_regen ? _vm.photo_to_svg() : undefined}},model:{value:(_vm.tsp_config.resolution),callback:function ($$v) {_vm.$set(_vm.tsp_config, \"resolution\", $$v)},expression:\"tsp_config.resolution\"}}),_c('v-slider',{attrs:{\"thumb-label\":\"always\",\"min\":\"0\",\"max\":\"100\",\"step\":\"5\",\"label\":\"Contrast\",\"disabled\":_vm.tsp_config.in_progress},on:{\"change\":function($event){_vm.tsp_config.auto_regen ? _vm.photo_to_svg() : undefined}},model:{value:(_vm.tsp_config.contrast),callback:function ($$v) {_vm.$set(_vm.tsp_config, \"contrast\", $$v)},expression:\"tsp_config.contrast\"}}),_c('v-slider',{attrs:{\"thumb-label\":\"always\",\"min\":\"0\",\"max\":\"255\",\"step\":\"5\",\"label\":\"White Cutoff\",\"disabled\":_vm.tsp_config.in_progress},on:{\"change\":function($event){_vm.tsp_config.auto_regen ? _vm.photo_to_svg() : undefined}},model:{value:(_vm.tsp_config.whiteCutoff),callback:function ($$v) {_vm.$set(_vm.tsp_config, \"whiteCutoff\", $$v)},expression:\"tsp_config.whiteCutoff\"}}),_c('v-checkbox',{attrs:{\"label\":\"Invert\"},on:{\"change\":function($event){_vm.tsp_config.auto_regen ? _vm.photo_to_svg() : undefined}},model:{value:(_vm.tsp_config.invert),callback:function ($$v) {_vm.$set(_vm.tsp_config, \"invert\", $$v)},expression:\"tsp_config.invert\"}}),_c('v-checkbox',{attrs:{\"label\":\"Auto Regen\"},model:{value:(_vm.tsp_config.auto_regen),callback:function ($$v) {_vm.$set(_vm.tsp_config, \"auto_regen\", $$v)},expression:\"tsp_config.auto_regen\"}}),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.tsp_config.auto_regen),expression:\"!tsp_config.auto_regen\"}],attrs:{\"label\":\"Regen\"},on:{\"click\":_vm.photo_to_svg}},[_vm._v(\" Regenerate \")])],1):_vm._e()],1):_vm._e()],1)])],1)],1),_c('div',{style:({width: ((_vm.plot_width+2) + \"px\"), height: ((_vm.plot_height+2) + \"px\"), position: 'relative', overflow: 'hidden', margin: '10px', 'background-color': '#666'})},[_c('drr',{attrs:{\"x\":_vm.svg_x,\"y\":_vm.svg_y,\"w\":_vm.svg_w,\"h\":_vm.svg_h,\"angle\":_vm.svg_rot,\"aspectRatio\":\"\"},on:{\"change\":_vm.svg_moved}},[_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"id\":\"svg-drr\"}})]),_c('canvas',{staticStyle:{\"border\":\"1px solid black\"},attrs:{\"id\":\"render-workarea\",\"width\":_vm.plot_width,\"height\":_vm.plot_height}})],1),_c('div',{staticClass:\"visuallyhidden\",attrs:{\"id\":\"svg-tester\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var PI = Math.PI;\nvar TAU = PI*2;\n\nexport type IteratorConsumer = (x1: number, y1: number, x2: number, y2: number, index: number, svgcmd: any[]) => void\n\nexport interface LinearizationOpts {\n    // Approximation scale: Higher is better quality\n    approximationScale: number\n    // Limit to disregard the curve distance at\n    curve_distance_epsilon: number\n    // Limit to disregard colinearity at\n    curveColinearityEpsilon: number\n    // Limit disregard angle tolerance\n    curveAngleToleranceEpsilon:  number\n    // Angle tolerance, higher is better quality\n    angleTolerance: number\n    // Hard recursion subdivision limit\n    recursionLimit: number\n    // Limit for curve cusps: 0 = off (range: 0 to pi)\n    cuspLimit: number\n}\n\nconst DEFAULT_OPTS: LinearizationOpts = {\n    approximationScale: 1,\n    curve_distance_epsilon: 1e-30,\n    curveColinearityEpsilon: 1e-30,\n    curveAngleToleranceEpsilon:  0.01,\n    angleTolerance: 0.4,\n    recursionLimit: 32,\n    cuspLimit: 0\n};\n\nexport class AdaptiveLinearization {\n    consumer: IteratorConsumer\n    opts: LinearizationOpts\n    prevX: number\n    prevY: number\n    constructor(consumer: IteratorConsumer, opts: any) {\n        this.consumer = (x1, y1, x2, y2, data, svgcmd) => {\n            consumer(x1, y1, x2, y2, data, svgcmd);\n            this.prevX = x2;\n            this.prevY = y2;\n        };\n        this.opts = Object.assign({}, DEFAULT_OPTS, opts);\n        this.prevX = 0;\n        this.prevY = 0;\n    }\n    /**\n     * Higher level helper function to linearize full svg-paths. Supposed to be called by the iterate function\n     * of the svgpath library. (NPM \"svgpath\").\n     *\n     * @param segment   segment array\n     * @param index     index\n     * @param curX      current x-coordinate\n     * @param curY      current y-coordinate\n     */\n    public svgPathIterator = (segment: any[], index: number, curX: number, curY: number) => {\n        var command = segment[0];\n\n        var i, x, y, x2, y2, x3, y3, x4, y4, short = false;\n        switch (command) {\n            case \"M\":\n                for (i = 1; i < segment.length; i += 2) {\n                    x = segment[i];\n                    y = segment[i + 1];\n                    this.consumer(curX, curY, x, y, index, [\"M\", x, y]);\n                    curX = x;\n                    curY = y;\n                }\n                break;\n            case \"L\":\n                for (i = 1; i < segment.length; i += 2) {\n                    x = segment[i];\n                    y = segment[i + 1];\n                    this.consumer(curX, curY, x, y, index, [\"L\", x, y]);\n                    curX = x;\n                    curY = y;\n                }\n                break;\n            case \"H\":\n                y = curY\n                for (i = 1; i < segment.length; i += 2) {\n                    x = segment[i];\n                    this.consumer(curX, curY, x, y, index, [\"H\", x]);\n                    curX = x;\n                }\n                break;\n            case \"V\":\n                x = curX\n                for (i = 1; i < segment.length; i += 2) {\n                    y = segment[i];\n                    this.consumer(curX, curY, x, y, index, [\"V\", y]);\n                    curY = y;\n                }\n                break;\n            case \"Z\":\n                this.consumer(curX, curY, curX, curY, index, [\"Z\"]);\n                break;\n            case \"Q\":\n                short = true;\n            // intentional fallthrough\n            case \"C\":\n                //console.log(\"C segment\", segment);\n                var step = short ? 4 : 6;\n\n                for (i = 1; i < segment.length; i += step)\n                {\n                    x = curX;\n                    y = curY;\n                    x2 = segment[i];\n                    y2 = segment[i + 1];\n                    x3 = short ? x2 : segment[i + 2];\n                    y3 = short ? y2 : segment[i + 3];\n                    x4 = short ? segment[i + 2] : segment[i + 4];\n                    y4 = short ? segment[i + 3] : segment[i + 5];\n\n                    this.linearize(\n                        x,y,\n                        x2,y2,\n                        x3,y3,\n                        x4,y4,\n                        index\n                    );\n\n                    curX = x;\n                    curY = y;\n                }\n                break;\n            default:\n                throw new Error(\"path command '\" + command + \"' not supported yet\");\n\n        }\n    }\n    /**\n     * Core linearization function linearizes the given bezier curve. Calls the line consumer function registered for\n     * the current instance once for every line segment of the linearized curve.\n     *\n     * @param x1        {number} x-coordinate of the start point\n     * @param y1        {number} y-coordinate of the start point\n     * @param x2        {number} x-coordinate of the first control point\n     * @param y2        {number} y-coordinate of the first control point\n     * @param x3        {number} x-coordinate of the second control point\n     * @param y3        {number} y-coordinate of the second control point\n     * @param x4        {number} x-coordinate of the end point\n     * @param y4        {number} y-coordinate of the start point\n     * @param [data]    {*} user data passed on to the comsumer function\n     */\n    linearize(x1: number, y1: number, x2: number, y2: number, x3: number, y3: number, x4: number, y4: number, data: any) {\n        this.linearizeRecursive(x1, y1, x2, y2, x3, y3, x4, y4, data, 0);\n\n        const prevX = this.prevX;\n        const prevY = this.prevY;\n\n        if (prevX !== x4 || prevY !== y4) {\n            this.consumer(prevX, prevY, x4, y4, data, [\"L\", x4, y4]);\n        }\n    }\n    distanceTo(x1: number, y1: number, x2: number, y2: number): number {\n        var x = x2 - x1;\n        var y = y2 - y1;\n    \n        return Math.sqrt(x*x+y*y);\n    }    \n    linearizeRecursive(x1: number, y1: number, x2: number, y2: number, x3: number, y3: number, x4: number, y4: number, data: any, level: number) {\n        const cuspLimit = this.opts.cuspLimit;\n        const curveColinearityEpsilon = this.opts.curveColinearityEpsilon;\n        const curveAngleToleranceEpsilon = this.opts.curveAngleToleranceEpsilon;\n        const angleTolerance = this.opts.angleTolerance;\n        const distanceToleranceSquared = (0.5 / this.opts.approximationScale)**2;\n    \n        ///////////////////////////////\n        // Calculate all the mid-points of the line segments\n        //----------------------\n        var x12   = (x1 + x2) / 2;\n        var y12   = (y1 + y2) / 2;\n        var x23   = (x2 + x3) / 2;\n        var y23   = (y2 + y3) / 2;\n        var x34   = (x3 + x4) / 2;\n        var y34   = (y3 + y4) / 2;\n        var x123  = (x12 + x23) / 2;\n        var y123  = (y12 + y23) / 2;\n        var x234  = (x23 + x34) / 2;\n        var y234  = (y23 + y34) / 2;\n        var x1234 = (x123 + x234) / 2;\n        var y1234 = (y123 + y234) / 2;\n    \n    \n        // Try to approximate the full cubic curve by a single straight line\n        //------------------\n        var dx = x4 - x1;\n        var dy = y4 - y1;\n    \n        var d2 = Math.abs(((x2 - x4) * dy - (y2 - y4) * dx));\n        var d3 = Math.abs(((x3 - x4) * dy - (y3 - y4) * dx));\n        var da1, da2, k;\n    \n        switch(\n        (d2 > curveColinearityEpsilon ? 2 : 0) +\n        (d3 > curveColinearityEpsilon? 1 : 0)\n            )\n        {\n            case 0:\n                // All collinear OR p1==p4\n                //----------------------\n                k = dx*dx + dy*dy;\n                if(k === 0)\n                {\n                    d2 = this.distanceTo(x1, y1, x2, y2);\n                    d3 = this.distanceTo(x4, y4, x3, y3);\n                }\n                else\n                {\n                    k   = 1 / k;\n                    da1 = x2 - x1;\n                    da2 = y2 - y1;\n                    d2  = k * (da1*dx + da2*dy);\n                    da1 = x3 - x1;\n                    da2 = y3 - y1;\n                    d3  = k * (da1*dx + da2*dy);\n                    if(d2 > 0 && d2 < 1 && d3 > 0 && d3 < 1)\n                    {\n                        // Simple collinear case, 1---2---3---4\n                        // We can leave just two endpoints\n                        this.consumer(x1,y1,x4,y4, data, [\"L\", x4, y4]);\n                        return;\n                    }\n                    if(d2 <= 0) d2 = this.distanceTo(x2, y2, x1, y1);\n                    else if(d2 >= 1) d2 = this.distanceTo(x2, y2, x4, y4);\n                    else             d2 = this.distanceTo(x2, y2, x1 + d2*dx, y1 + d2*dy);\n    \n                    if(d3 <= 0) d3 = this.distanceTo(x3, y3, x1, y1);\n                    else if(d3 >= 1) d3 = this.distanceTo(x3, y3, x4, y4);\n                    else             d3 = this.distanceTo(x3, y3, x1 + d3*dx, y1 + d3*dy);\n                }\n                if(d2 > d3)\n                {\n                    if(d2 < distanceToleranceSquared)\n                    {\n                        this.consumer(x1,y1,x2,y2, data, [\"L\", x2, y2]);\n                        return;\n                    }\n                }\n                else\n                {\n                    if(d3 < distanceToleranceSquared)\n                    {\n                        this.consumer(x1,y1, x3, y3, data, [\"L\", x3, y3]);\n                        return;\n                    }\n                }\n                break;\n    \n            case 1:\n                // p1,p2,p4 are collinear, p3 is significant\n                //----------------------\n                if(d3 * d3 <= distanceToleranceSquared * (dx*dx + dy*dy))\n                {\n                    if(angleTolerance < curveAngleToleranceEpsilon)\n                    {\n                        this.consumer(x1,y1,x23,y23, data, [\"L\", x23, y23]);\n                        return;\n                    }\n    \n                    // Angle Condition\n                    //----------------------\n                    da1 = Math.abs(Math.atan2(y4 - y3, x4 - x3) - Math.atan2(y3 - y2, x3 - x2));\n                    if(da1 >= PI) da1 = TAU - da1;\n    \n                    if(da1 < angleTolerance)\n                    {\n                        this.consumer(x1,y1,x2,y2, data, [\"L\", x2, y2]);\n                        this.consumer(x2,y2,x3,y3, data, [\"L\", x3, y3]);\n                        return;\n                    }\n    \n                    if(cuspLimit !== 0.0)\n                    {\n                        if(da1 > PI - cuspLimit)\n                        {\n                            this.consumer(x1,y1,x3,y3, data, [\"L\", x3, y3]);\n                            return;\n                        }\n                    }\n                }\n                break;\n    \n            case 2:\n                // p1,p3,p4 are collinear, p2 is significant\n                //----------------------\n                if(d2 * d2 <= distanceToleranceSquared * (dx*dx + dy*dy))\n                {\n                    if(angleTolerance < curveAngleToleranceEpsilon)\n                    {\n                        this.consumer(x1,y1,x23,y23, data, [\"L\", x23, y23]);\n                        return;\n                    }\n    \n                    // Angle Condition\n                    //----------------------\n                    da1 = Math.abs(Math.atan2(y3 - y2, x3 - x2) - Math.atan2(y2 - y1, x2 - x1));\n                    if(da1 >= PI) da1 = TAU - da1;\n    \n                    if(da1 < angleTolerance)\n                    {\n                        this.consumer(x1,y1,x2,y2, data, [\"L\", x2, y2]);\n                        this.consumer(x2,y2,x3,y3, data, [\"L\", x3, y3]);\n                        return;\n                    }\n    \n                    if(cuspLimit !== 0.0)\n                    {\n                        if(da1 > PI - cuspLimit)\n                        {\n                            this.consumer(x1,y1,x2,y2, data, [\"L\", x2, y2]);\n                            return;\n                        }\n                    }\n                }\n                break;\n    \n            case 3:\n                // Regular case\n                //-----------------\n                if((d2 + d3)*(d2 + d3) <= distanceToleranceSquared * (dx*dx + dy*dy))\n                {\n                    // If the curvature doesn't exceed the distance_tolerance value\n                    // we tend to finish subdivisions.\n                    //----------------------\n                    if(angleTolerance < curveAngleToleranceEpsilon)\n                    {\n                        this.consumer(x1,y1,x23,y23, data, [\"L\", x23, y23]);\n                        return;\n                    }\n    \n                    // Angle & Cusp Condition\n                    //----------------------\n                    k   = Math.atan2(y3 - y2, x3 - x2);\n                    da1 = Math.abs(k - Math.atan2(y2 - y1, x2 - x1));\n                    da2 = Math.abs(Math.atan2(y4 - y3, x4 - x3) - k);\n                    if(da1 >= PI) da1 = TAU - da1;\n                    if(da2 >= PI) da2 = TAU - da2;\n    \n                    if(da1 + da2 < angleTolerance)\n                    {\n                        this.consumer(x1,y1,x23,y23, data, [\"L\", x23, y23]);\n                        return;\n                    }\n    \n                    if(cuspLimit !== 0.0)\n                    {\n                        if(da1 > PI - cuspLimit)\n                        {\n                            this.consumer(x1,y1,x2,y2, data, [\"L\", x2, y2]);\n                            return;\n                        }\n    \n                        if(da2 > PI - cuspLimit)\n                        {\n                            this.consumer(x1,y1,x3,y3, data, [\"L\", x3, y3]);\n                            return;\n                        }\n                    }\n                }\n                break;\n        }\n    \n        var nextLevel = level + 1;\n    \n        if (nextLevel >= this.opts.recursionLimit)\n        {\n            this.consumer(x1, y1, x4, y4, data, [\"L\", x4, y4]);\n            return;\n        }\n    \n        // Continue subdivision\n        //----------------------\n        this.linearizeRecursive(x1, y1, x12, y12, x123, y123, x1234, y1234, data, nextLevel);\n        this.linearizeRecursive(x1234, y1234, x234, y234, x34, y34, x4, y4, data, nextLevel);\n    }\n}","const worker = new Worker(\"oneline.js\");\nworker.onmessage = handleMessage;\nlet seq = 1;\n\nfunction setImage(array) {\n  let msg = {\n    type: \"setImage\",\n    seq: seq++,\n    data: array,\n  };\n  worker.postMessage(msg);\n}\n\nfunction build(options) {\n  let msg = {\n    type: \"build\",\n    seq: seq++,\n    options: JSON.stringify(options),\n  };\n  worker.postMessage(msg);\n}\n\nfunction handleMessage(msg) {\n  // console.log(\"Received message from webworker\", msg);\n  if(exports.onResult) {\n    exports.onResult(msg.data);\n  }\n}\n\nlet exports = {\n  worker: worker,\n  setImage: setImage,\n  build: build,\n  onResult: undefined,\n};\n\nexport default exports;\n\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction replaceChildren(elem: Element, ...new_children: Element[]) {\n  const { childNodes } = elem;\n  while (childNodes.length) {\n    childNodes[0].remove();\n  }\n  elem.append(...new_children);\n}\n\nimport opentype from \"opentype.js\"\nimport {AdaptiveLinearization} from \"@/components/adaptive-linearization/src/index\"\nimport SVGPath from \"svgpath\"\nimport potrace from \"potrace\"\nimport imgreduce from \"image-blob-reduce\"\nimport OneLineClient from './OneLineClient.js';\n\nimport Vue from \"vue\"\nexport default Vue.extend({\n    props: {\n        arm_rad: {\n            default: 240,\n            type: Number,\n        },\n        svgdoc: Document\n    },\n    data() {\n        const plot_scale = 1.5;\n        return {\n            active_tab: 0,\n            \n            userText: \"SCARA\",\n            fontName: \"ChunkFive-Regular.otf\",\n            fontSize: 40,\n            userInputDebounce: 0,\n            fontOptions: [\n                {name: \"Allura (Script)\", file: \"Allura-Regular.otf\"},\n                {name: \"ChunkFive (block)\", file: \"ChunkFive-Regular.otf\"},\n                {name: \"GreatVibes (caligraphy)\", file: \"GreatVibes-Regular.ttf\"},\n            ],\n\n            photo_mode: \"squiggle\",\n            photo_upload_max_dim: 500,\n            potrace_params: {\n                threshold: -1,\n                turdSize: 15,\n                blackOnWhite: true,\n            },\n            squiggle_config: {\n                black: false,\n                frequency: 100,\n                amplitude: 2.0 as number,\n                lineCount: 50,\n                brightness: 0 as number,\n                contrast: 0 as number,\n                minBrightness: 0 as number,\n                maxBrightness: 255,\n                spacing: 0.5 as number,\n            },\n            tsp_config: {\n                resolution: 20,\n                contrast: 80,\n                whiteCutoff: 240,\n                invert: false,\n                lineWidth: 4,\n                fg: \"black\",\n                bg: \"white\",\n                auto_regen: false,\n                in_progress: false,\n            },\n\n            plot_scale: plot_scale,\n            plot_width: this.arm_rad * 2 * plot_scale, \n            plot_height: this.arm_rad * plot_scale,\n            \n            svg_x: 240 * plot_scale,\n            svg_y: 100 * plot_scale,\n            svg_w: 200,\n            svg_h: 200,\n            orig_svg_w: 200,\n            orig_svg_h: 200,\n            svg_rot: 0,\n\n            raw_photo: undefined as ArrayBuffer | undefined,\n            photo_blob: undefined as Blob | undefined,\n            raw_svg: \"\",\n            imageType: \"\",\n        }\n    },\n    methods: {\n        gcode_convert_debounce() {\n            clearTimeout(this.userInputDebounce)\n            this.userInputDebounce = setTimeout(() => this.gcode_convert(), 500)\n        },\n        async gcode_convert() {\n            if(this.active_tab == 0) {\n                //Convert txt\n                this.display_svg(await this.text_to_svg());\n            } else if (this.active_tab == 1) {\n                //Convert img\n                //this.display_svg(await this.text_to_svg());\n            }\n            this.svg_to_gcode()            \n        },\n        svg_to_gcode() {\n            const lift_dist = 4; // # of mm to lift pen off page inbetween letters\n            let gcode = [] as string[]\n            let lin_path = \"\"\n            let startpt = [0, 0];\n\n            const root_svg = document.getElementById(\"svg-render\")!;\n            const path_chunks = Array.from(root_svg.querySelectorAll(\"path\").values()).reduce((agg, path_elem) => {\n                const raw_path = path_elem.getAttribute(\"d\");\n                agg.push(raw_path!);\n                return agg;\n            }, [] as string[])\n            path_chunks.forEach(chunk => {\n                const svgpath = SVGPath(chunk).scale(this.svg_w / this.orig_svg_w, this.svg_h / this.orig_svg_h).rotate(this.svg_rot, this.svg_w / 2, this.svg_h /2).translate(this.svg_x - this.svg_w / 2, this.svg_y - this.svg_h / 2).unarc().abs().round(4) \n                let gcode_cmds = [] as string[][]\n                let svg_cmds = [] as string[]\n                // Iterate over svg commands and convert to linearized versions of both GCode and SVG paths\n                let round = function(n: number, places: number = 2) {\n                    return Math.round((n + Number.EPSILON) * 10 ** places) / 10 ** places;\n                }\n\n                let lineConsumer = (x1: number, y1: number, x2: number, y2: number, data: number, svgcmd: string[]) => {\n                    x2 = round(-(x2 / this.plot_scale - this.arm_rad))\n                    y2 = round(y2 / this.plot_scale)\n                    if(!svgcmd) return\n                    if(svgcmd[0] == \"M\") {\n                        gcode_cmds.push([\"G0\", `Z${lift_dist}`])\n                        gcode_cmds.push([\"G0\", `X${x2}`, `Y${y2}`])\n                        gcode_cmds.push([\"G0\", \"Z0\"])\n                        startpt = [x2, y2];\n                    } else if(svgcmd[0] == \"Z\") {\n                        gcode_cmds.push([\"G0\", `X${startpt[0]}`, `Y${startpt[1]}`])\n                    } else {\n                        gcode_cmds.push([\"G1\", `X${x2}`, `Y${y2}`])\n                    }\n                    // Record max vals for resizing canvas\n                    // Create final SVG cmd\n                    svg_cmds.push(svgcmd.join(\" \"))\n                }\n                const al = new AdaptiveLinearization(lineConsumer, {\n                    approximationScale: 2,\n                    recursionLimit: 8,\n                    curve_distance_epsilon: 1e-5,\n                    curveColinearityEpsilon: 1e-5,\n                });\n                svgpath.iterate(al.svgPathIterator);\n                // Join with \\n and add to the overall gcode string\n                console.log(gcode_cmds.map((x: string[]) => x.join(\"\")))\n                gcode = gcode_cmds.map((x: string[]) => x.join(\"\")).reduce((agg, arr) => {\n                    agg.push(arr);\n                    return agg\n                }, [] as string[])\n                // Join with a space and add to the overall gcode string\n                lin_path = lin_path + \" \" + svg_cmds.join(\" \")\n            })\n            console.log(gcode)\n            this.$emit(\"gcodegen\", gcode)\n        },\n        opentype_promise_font(url: string): Promise<opentype.Font> {\n            return new Promise((resolve, reject) => {\n                opentype.load(url, (err, font) => {\n                    if (err) {\n                        alert(\"Font could not be loaded: \" + err);\n                        reject(err);\n                    } else {\n                        resolve(font!);\n                    }\n                })\n            })\n        },\n        text_to_svg(): Promise<SVGElement> {\n            const center_x = this.arm_rad / 2 + ((this.plot_width  - this.arm_rad) / 2)\n            return this.opentype_promise_font(`fonts/${this.fontName}`).then((font) => {\n                const raw_path = font!.getPath(this.userText, 0, this.fontSize, this.fontSize);\n                const raw_path_bb = raw_path.getBoundingBox();\n\n                this.svg_w = raw_path_bb.x2 - raw_path_bb.x1\n                this.svg_h = raw_path_bb.y2 - raw_path_bb.y1\n                this.orig_svg_w = raw_path_bb.x2 - raw_path_bb.x1\n                this.orig_svg_h = raw_path_bb.y2 - raw_path_bb.y1\n\n                const path_svg = raw_path.toSVG(6)\n                const svg_elem = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\")\n                svg_elem.innerHTML = path_svg\n                svg_elem.setAttribute(\"viewBox\", `${raw_path_bb.x1}, ${raw_path_bb.y1}, ${this.svg_w} ${this.svg_h}`);\n                return svg_elem\n            })\n        },\n        set_svg_viewport() {\n            const svg_elem: SVGGraphicsElement = document.getElementById(\"svg-tester\")!.getElementsByTagName(\"svg\")[0]\n            const bbox = svg_elem.getBBox();\n            this.svg_w = bbox.width\n            this.svg_h = bbox.height\n            this.orig_svg_w = bbox.width\n            this.orig_svg_h = bbox.height\n            const aspect_ratio = this.svg_w / this.svg_h\n\n            const max_dim = 200;\n            //If img too big in one dim\n            if (this.svg_w > max_dim || this.svg_h > max_dim) {\n                //If width too big\n                if (aspect_ratio >= 1) {\n                    this.svg_w = max_dim\n                    this.svg_h = max_dim / aspect_ratio\n                }\n                else {\n                    this.svg_h = max_dim\n                    this.svg_w = max_dim * aspect_ratio\n                }\n            }\n            svg_elem.setAttribute(\"viewBox\", `${bbox.x} ${bbox.y} ${bbox.width} ${bbox.height}`);\n            this.display_svg(svg_elem);\n            this.svg_to_gcode();\n        },\n        async load_img_file(file: File) {\n            if (file === null) return\n            const reader = new FileReader();\n             if(file.type == \"image/svg+xml\") {\n                reader.onload = (ev: any) => {\n                    this.raw_svg = reader.result as string;\n                    const svgdoc = new DOMParser().parseFromString(this.raw_svg, \"image/svg+xml\");\n                    replaceChildren(document.getElementById(\"svg-tester\")!, svgdoc.documentElement);\n                    this.set_svg_viewport();\n                };\n                reader.readAsText(file);\n            } else if([\"image/jpeg\", \"image/jpg\", \"image/png\"].includes(file.type)) {\n                reader.onload = (ev) => {\n                    this.imageType = \"photo\"\n                    this.raw_photo = reader.result as ArrayBuffer;\n                    this.photo_to_svg();\n                };\n                await imgreduce().toBlob(file, {max: this.photo_upload_max_dim}).then(((reducedFile: File) => { this.photo_blob = reducedFile; reader.readAsArrayBuffer(reducedFile)}))\n            }\n            else {\n                this.imageType = \"\"\n            }\n        },\n        async photo_to_svg() {\n            if (this.photo_mode==\"potrace\") {\n                if(this.raw_photo != undefined) {\n                    potrace.trace(this.raw_photo, this.potrace_params, (err: Error, svg: string) => {\n                        if (err) throw err;\n                        const svgdoc = new DOMParser().parseFromString(svg, \"image/svg+xml\");\n                        replaceChildren(document.getElementById(\"svg-tester\")!, svgdoc.documentElement);\n                        this.set_svg_viewport();\n                    });\n                }\n            }\n            if (this.photo_mode == \"squiggle\") {\n                await this.photo_to_svg_squiggle();\n            }\n            if (this.photo_mode == \"tsp\") {\n                OneLineClient.setImage(this.raw_photo);\n                this.tsp_config.in_progress = true;\n                OneLineClient.onResult = ((d: any) => {\n                    const raw_svg = d.result\n                    this.tsp_config.in_progress = false;\n                    const svgdoc = new DOMParser().parseFromString(raw_svg, \"image/svg+xml\");\n                    replaceChildren(document.getElementById(\"svg-tester\")!, svgdoc.documentElement);\n                    this.set_svg_viewport();\n                }) as any\n                OneLineClient.build(this.tsp_config);\n            }\n        },\n        async photo_to_svg_squiggle(single_line=true) {\n            const config = this.squiggle_config\n            //const width = config.width;\n            //const height = config.height;\n            const contrast = config.contrast;\n            const brightness = config.brightness;\n            const lineCount = config.lineCount;\n            const minBrightness = config.minBrightness;\n            const maxBrightness = config.maxBrightness;\n            const spacing = config.spacing;\n            const black = config.black;\n\n            let imagePixels: ImageData;\n            let canvas = document.createElement(\"canvas\");\n            const ctx = canvas.getContext('2d');\n            let img = new Image();\n            const p = new Promise((resolve, reject) => {\n                img.onload = () => {\n                    const width = img.width;\n                    const height = img.height;\n                    canvas.width = width\n                    canvas.height = height\n                    ctx!.drawImage(img, 0, 0)\n                    imagePixels = ctx!.getImageData(0, 0, width, height);\n                    // Create some defaults for squiggle-point array\n                    let squiggleData = [] as number[][][];\n                    let r = 5;\n                    let a = 0;\n                    let b;\n                    let z;\n                    let currentLine = []; // create empty array for storing x,y coordinate pairs\n                    let currentVerticalPixelIndex = 0;\n                    let currentHorizontalPixelIndex = 0;\n                    let contrastFactor = (259 * (contrast + 255)) / (255 * (259 - contrast)); // This was established through experiments\n                    let horizontalLineSpacing = Math.floor(height / lineCount); // Number of pixels to advance in vertical direction\n                    \n                    //If wrapping lines we alternate which dir we process each line\n                    let line_dir: boolean = false; // 0 = L to R, 1 = R to L\n                    \n                    // Iterate line by line (top line to bottom line) in increments of horizontalLineSpacing\n                    for (let y = 0; y < height; y+= horizontalLineSpacing) {\n                        a = 0;\n                        currentLine = [];\n                        currentLine.push([0, y]); // Start the line\n                        currentVerticalPixelIndex = y*width;  // Because Image Pixel array is of length width * height,\n                                                                // starting pixel for each line will be this\n                        // Loop through pixels from left to right within the current line, advancing by increments of config.SPACING\n                        //console.log(config.spacing, width);\n                        for (let x = spacing; x < width; x += spacing ) {\n                            currentHorizontalPixelIndex = Math.floor(x + currentVerticalPixelIndex); // Get array position of current pixel\n                            // When there is contrast adjustment, the calculations of brightness values are a bit different\n                            if (contrast !== 0) {\n                            // Determine how bright a pixel is, from 0 to 255 by summing three channels (R,G,B) multiplied by some coefficients\n                            b = (0.2125 * ((contrastFactor * (imagePixels!.data[4 * currentHorizontalPixelIndex] - 128) + 128 )\n                                + brightness)) + (0.7154 * ((contrastFactor * (imagePixels!.data[4 * (currentHorizontalPixelIndex + 1)] - 128) + 128)\n                                + brightness)) + (0.0721 * ((contrastFactor*(imagePixels!.data[4*(currentHorizontalPixelIndex+2)]-128)+128) + brightness));\n                            } else {\n                            b = (0.2125 * (imagePixels!.data[4*currentHorizontalPixelIndex] + brightness)) + (0.7154 * (imagePixels!.data[4*(currentHorizontalPixelIndex + 1)]+ brightness)) + (0.0721 * (imagePixels!.data[4*(currentHorizontalPixelIndex + 2)] + brightness));\n                            }\n                            if (black) {\n                            b = Math.min(255-minBrightness,255-b);    // Set minimum line curvature to value set by the user\n                            z = Math.max(maxBrightness-b,0);  // Set maximum line curvature to value set by the user\n                            } else {\n                            b = Math.max(minBrightness,b);    // Set minimum line curvature to value set by the user\n                            z = Math.max(maxBrightness-b,0);  // Set maximum line curvature to value set by the user\n                            }\n                            // The magic of the script, determines how high / low the squiggle goes\n                            r = config.amplitude * z / lineCount;\n                            a += z / config.frequency;\n                            currentLine.push([x,y + Math.sin(a)*r]);\n                        }\n                        if (line_dir) {\n                            currentLine = currentLine.reverse()\n                        }\n                        squiggleData.push(currentLine);\n                        if(single_line) {\n                            line_dir = !line_dir\n                        }\n                    }\n                    squiggleData = [([] as number[][]).concat(...squiggleData)]\n                    const svg_paths = squiggleData.map((path: number[][]) => {\n                        let svg_path = \"\";\n                        path.map((point, index) => {\n                            if (index === 0) {\n                                svg_path += `M ${point[0]},${point[1]}`;\n                            } else {\n                                svg_path += `L${Math.round(point[0] * 100) / 100},${Math.round(point[1]*100)/100}`\n                            }\n                        });\n                        return `<path d=\"${svg_path}\"/>`;\n                    })\n                    const raw_svg = `<svg xmlns=\"http://www.w3.org/2000/svg\">${svg_paths.join(\"\\n\")}</svg>`;\n                    const svgdoc = new DOMParser().parseFromString(raw_svg, \"image/svg+xml\");\n                    console.log(svgdoc)\n\n                    replaceChildren(document.getElementById(\"svg-tester\")!, svgdoc.documentElement);\n                    this.set_svg_viewport();\n                    resolve(undefined);\n                }\n            });\n            img.src = URL.createObjectURL(this.photo_blob!);\n            return p\n        },\n        display_svg(svg_elem: SVGElement) {\n            svg_elem.style.width = \"100%\"\n            svg_elem.style.height = \"100%\"\n            svg_elem.setAttribute(\"width\", this.svg_w + \"px\");\n            svg_elem.setAttribute(\"height\", this.svg_h + \"px\");\n            svg_elem.id = \"svg-render\"\n            replaceChildren(document.getElementById(\"svg-drr\")!, svg_elem);\n            //document.getElementById(\"svg-drr\")!.innerHTML = svg_elem.outerHTML\n            //document.getElementById(\"svg-drr\")!.innerHTML = `<img src=\"https://upload.wikimedia.org/wikipedia/commons/f/f9/Five_Pointed_Star_Solid.svg\" style=\"width: 100%; height: 100%\" />`\n        },\n        svg_moved(e: any) {\n            console.log(e)\n            this.svg_x = e.x\n            this.svg_y = e.y\n            this.svg_w = e.w\n            this.svg_h = e.h\n            this.svg_rot = e.angle\n            this.gcode_convert_debounce()\n        },\n        render_workarea() {\n            const center_x = this.plot_width / 2\n            // Clear out the canvas\n            const canvas = document.getElementById(\"render-workarea\") as HTMLCanvasElement\n            const ctx = canvas!.getContext(\"2d\");\n            ctx!.clearRect(0, 0, canvas!.offsetWidth, canvas!.offsetHeight);\n            ctx!.arc(center_x, 0, center_x, 0, 180)\n            ctx!.stroke()\n            ctx!.beginPath();\n            ctx!.moveTo(center_x, 0);\n            ctx!.lineTo(center_x, this.plot_width);\n            ctx!.closePath();\n            ctx!.stroke()\n        },\n    },\n    mounted() {\n        this.$nextTick(() => {\n            this.render_workarea()\n            this.gcode_convert();\n        })\n    }\n});\n\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GcodeCreator.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GcodeCreator.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GcodeCreator.vue?vue&type=template&id=71e0b63f&\"\nimport script from \"./GcodeCreator.vue?vue&type=script&lang=ts&\"\nexport * from \"./GcodeCreator.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GcodeCreator.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCheckbox,VFileInput,VIcon,VRadio,VRadioGroup,VSelect,VSlider,VTab,VTabItem,VTabs,VTabsItems,VTextField})\n\n\n/* vuetify-loader */\nimport installDirectives from \"!../../node_modules/vuetify-loader/lib/runtime/installDirectives.js\"\nimport Ripple from 'vuetify/lib/directives/ripple'\ninstallDirectives(component, {Ripple})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { WorkerMsg, WorkerCmd, MasterCmd } from \"@/serialtypes\";\nimport Worker from \"worker-loader!@/serialworker.ts\";\n\nconst serialworker = new Worker();\n\nconst async_wait = (ms: number) => new Promise(resolve => setTimeout(resolve, ms))\n\n//https://codelabs.developers.google.com/codelabs/web-serial/\n\nimport Vue from \"vue\";\nimport {ScaraConverter} from \"@/ScaraConverter\";\n\nimport ClickToMove from \"@/components/ClickToMove.vue\";\nimport ScaraSim3D from \"@/components/ScaraSim3D.vue\";\nimport saveAs from \"@/components/FileSaver\"\nimport GcodeCreator from \"@/components/GcodeCreator.vue\";\n\nexport default Vue.extend({\n\tcomponents: {\n\t\tClickToMove,\n\t\tScaraSim3D,\n\t\tGcodeCreator\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tgcode: [] as string[],\n\t\t\tsend_buffer: [] as string[],\n\t\t\tready_to_send: true,\n\t\t\tlast_resp: undefined as number | undefined,\n\t\t\tsend_buffer_interval: undefined as any,\n\t\t\tsend_log: [] as string[],\n\t\t\tsend_log_index: 0,\n\t\t\trecv_buffer: \"\",\n\t\t\tserial_log: [] as string[],\n\t\t\tcmd: \"\",\n\t\t\tjog_inc: {x: 10, y: 10, z: 10},\n\t\t\tgoto: {x: 0, y: 0},\n\t\t\tserial_connected: false,\n\t\t\tattempting_to_connect: false,\n\t\t\tcancel_connect: false,\n\t\t\treader: undefined as ReadableStreamDefaultReader<any> | undefined,\n\t\t\twriter: undefined as WritableStreamDefaultWriter<any> | undefined,\n\t\t\tregen_debounce: 0,\n\t\t\tjob_prog: undefined as number | undefined,\n\t\t};\n\t},\n\tmethods: {\n\t\tasync click_move([x, y]: [number, number]) {\n\t\t\tthis.goto.x = x;\n\t\t\tthis.goto.y = y;\n\t\t\tthis.goto_point();\n\t\t},\n\t\tasync goto_point() {\n\t\t\tconst raw_gcode = `G0 X${this.goto.x} Y${this.goto.y} F20000\\n`\n\t\t\tawait this.write_serial(raw_gcode);\n\t\t},\n\t\tasync home_scara(fold_up=false) {\n\t\t\tconst fold_up_cmd_lines = [\n\t\t\t\t\"G28\"\n\t\t\t]\n\t\t\tconst home_cmd_lines = [\n\t\t\t\t\"G28\",\n\t\t\t\t\"G0 F20000\",\n\t\t\t\t\"G0 X120 Y120 Z5 F20000\",\n\t\t\t];\n\t\t\tconst cmd_lines = fold_up ? fold_up_cmd_lines : home_cmd_lines;\n\t\t\tfor (const gcode_line_index in cmd_lines) {\n\t\t\t\tconst gcode_line = cmd_lines[gcode_line_index]\n\t\t\t\tawait this.write_serial(gcode_line + \"\\n\");\n\t\t\t}\n\t\t},\n\t\tasync origin_scara() {\n\t\t\tconst home_cmd_lines = [\n\t\t\t\t\"G0 Z30 F5000\",\n\t\t\t\t\"G0 X0 Y0 F5000\",\n\t\t\t\t\"G0 Z0 F5000\",\n\t\t\t];\n\t\t\tfor (const gcode_line_index in home_cmd_lines) {\n\t\t\t\tconst gcode_line = home_cmd_lines[gcode_line_index]\n\t\t\t\tawait this.write_serial(gcode_line + \"\\n\");\n\t\t\t}\n\t\t},\n\t\trecover_prev_cmd(inc: number) {\n\t\t\tif (this.cmd == this.send_log[this.send_log_index]) {\n\t\t\t\tthis.send_log_index += inc;\n\t\t\t\tif (this.send_log_index < this.send_log.length) {\n\t\t\t\t\tthis.cmd = this.send_log[this.send_log_index];\n\t\t\t\t}\n\t\t\t} else if (this.send_log.length > 0) {\n\t\t\t\tthis.send_log_index = 0;\n\t\t\t\tthis.cmd = this.send_log[this.send_log_index];\n\t\t\t}\n\t\t},\n\t\tasync write_cmd_to_serial() {\n\t\t\tawait this.write_serial(this.cmd + \"\\n\");\n\t\t\tthis.send_log.unshift(this.cmd);\n\t\t\tthis.cmd = \"\";\n\t\t},\n\t\tasync write_serial(data: string) {\n\t\t\tserialworker.postMessage({ type: MasterCmd.PushToBuffer, data: [data] } as WorkerMsg)\n\t\t},\n\t\tasync serial_connect() {\n\t\t\tawait (navigator as any).serial.requestPort()\n\t\t\tserialworker.postMessage({ type: MasterCmd.SerialConnect } as WorkerMsg)\n\t\t},\n\t\tload_gcode_file(file: File) {\n\t\t\tif (file === null) return\n            const reader = new FileReader();\n            reader.onload = (ev: any) => {\n\t\t\t\tthis.gcode = ev.target!.result.split(\"\\n\");\n\t\t\t};\n            reader.readAsText(file);\n\t\t},\n\t\tgcode_from_gen(gcode: string[]) {\n\t\t\t// Add homing seq to end of gcode\n\t\t\t// TODO: Consider moving arm out of the way when completed, perhaps using relative move (eg: X+20 Y+20)?\n\t\t\tthis.gcode = [\"G28 O\", \"G0 Z10 X120 Y120 F20000\"].concat(gcode, [\"G0Z10\"]).filter((x) => x.length > 0)\n\t\t},\n\t\tsave_gcode(gcode: string) {\n\t\t\t(saveAs as any)(new Blob([gcode], {type: 'text/plain'}), \"jscara_export.gcode\")\n\t\t},\n\t\tclear_buffer() {\n\t\t\tserialworker.postMessage({ type: MasterCmd.ClearBuffer } as WorkerMsg)\n\t\t\tthis.ready_to_send = true;\n\t\t},\n\t\tasync send_gcode_job() {\n\t\t\tserialworker.postMessage({ type: MasterCmd.StartJob, data: this.gcode})\n\t\t\tthis.job_prog = 0;\n\t\t}\n\t},\n\tmounted() {\n\t\tif ((navigator as any).serial !== undefined) {\n\t\t\tconst notSupported = document.getElementById(\"notSupported\");\n\t\t\tnotSupported!.style.display = \"none\";\n\t\t}\n\t\tserialworker.onmessage = (event) => {\n\t\t\tconst msg = event.data;\n\t\t\tif (msg.type == WorkerCmd.SerialConnected) {\n\t\t\t\tthis.serial_connected = true;\n\t\t\t}\n\t\t\telse if (msg.type == WorkerCmd.SerialRecv) {\n\t\t\t\tthis.serial_log.unshift(msg.data)\n\t\t\t}\n\t\t\telse if (msg.type == WorkerCmd.JobProg) {\n\t\t\t\tif(msg.data == 100) {\n\t\t\t\t\tthis.job_prog = undefined\n\t\t\t\t\tthis.$toast(\"Job Complete!\", {x: \"center\", color: \"green\"})\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tthis.job_prog = msg.data\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (msg.type == WorkerCmd.SerialError) {\n\t\t\t\tthis.$toast(msg.data, {x: \"center\", color: \"red\"})\t\t\t\n\t\t\t}\n\n\t\t}\n\t},\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=24082a4c&\"\nimport script from \"./Home.vue?vue&type=script&lang=ts&\"\nexport * from \"./Home.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VContainer,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VFileInput,VProgressLinear,VRow,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"scara-converter\"}},[_c('v-file-input',{on:{\"change\":_vm.load_gcode_file}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const gcodeParser = require('gcode-parser');\nexport interface EffectorPos {\n    X?: number,\n    Y?: number,\n    Z?: number,\n    F?: number,\n    E?: number,\n}\n\nenum Hand {\n    Left = -1,\n    Right = 1,\n}\n\nexport interface ScaraPos {\n    a1: number,\n    a2: number,\n    hand: Hand,\n    F: number,\n    Z: number,\n    E: number,\n}\n\nexport interface ScaraProps {\n    L1: number;\n    L2: number;\n    a1_driver_teeth: number;\n    a1_receiver_teeth: number;\n    a1_steps_per_rev: number;\n    a2_driver_teeth: number;\n    a2_receiver_teeth: number;\n    a2_secondary_receiver_teeth: number;\n    a2_steps_per_rev: number;\n    max_speed: number;\n    x_estop_offset: number;\n    y_estop_offset: number;\n}\n\nexport const scara_default_props: ScaraProps = {\n    L1: 120,\n    L2: 120,\n    a1_driver_teeth: 20,\n    a1_receiver_teeth: 80,\n    a1_steps_per_rev: 360 / 1.8 * (1/4),\n    a2_driver_teeth: 20,\n    a2_receiver_teeth: 80,\n    a2_secondary_receiver_teeth: 80,\n    a2_steps_per_rev: 360 / 1.8 * (1/4),\n    max_speed: 20000,\n    x_estop_offset: 185,\n    y_estop_offset: 115,\n}  \n\nexport class ScaraConverter {\n    x_offset: number;\n    y_offset: number;\n    inner_rad: number;\n    skew: number;\n    feed_rate: number;\n    pref_hand: Hand;\n    max_seg_length: number;\n    scara_props: ScaraProps;\n    error_reporter: (e: string) => void;\n    constructor(error_reporter?: (e: string) => void) {\n        this.x_offset = 0;\n        this.y_offset = 100;\n        this.inner_rad = 0;\n        this.skew =  0;\n        this.feed_rate = 2000;\n        this.pref_hand = Hand.Right;\n        this.max_seg_length = 0.1;\n        this.scara_props = scara_default_props;\n        this.error_reporter = error_reporter || ((e) => {if (alert) { alert(e) } })\n    }\n    valid_point(x: number, y: number): boolean {\n        return y <= Math.sqrt(Math.pow(this.scara_props.L1 + this.scara_props.L2, 2) - Math.pow(x, 2));\n    }\n    parse_gcode_move(gcode_cmd: any[][]): EffectorPos {\n        let move_pos: EffectorPos = {X: undefined, Y: undefined, Z: undefined, F: undefined, E: undefined};\n        for (const gcode_seg_index in gcode_cmd) {\n            const gcode_seg = gcode_cmd[gcode_seg_index];\n            if(gcode_seg[0] === \"X\") {\n                move_pos.X = gcode_seg[1]\n            }\n            if(gcode_seg[0] === \"Y\") {\n                move_pos.Y = gcode_seg[1]\n            }\n            if(gcode_seg[0] === \"Z\") {\n                move_pos.Z = gcode_seg[1]\n            }\n            if(gcode_seg[0] === \"E\") {\n                move_pos.E = gcode_seg[1]\n            }\n            if(gcode_seg[0] === \"F\") {\n                move_pos.F = gcode_seg[1]\n            }\n        }\n        return move_pos;\n    };\n    scara_distance(start: ScaraPos, end: ScaraPos): number {\n        return Math.sqrt((end.a1-start.a1)**2+(end.a2-start.a2)**2+(end.Z-start.Z)**2);\n    };\n    last_hand: Hand = Hand.Right;\n    map_cartesian_to_scara(next_pos: EffectorPos): ScaraPos {\n        let error = undefined as string | undefined;\n        let cart_to_scara = (x: number, y: number, flip_hand: boolean = false): ScaraPos | undefined  => {\n            const scara_pos: ScaraPos = {a1: 0, a2: 0, hand: this.last_hand * (flip_hand ? -1 : 1), F: 0, Z: 0, E: 0}\n            const R = Math.hypot(x, y);\n            const gamma = Math.atan2(y, x)\n            scara_pos.a1 = (gamma + scara_pos.hand * Math.acos((R**2 + (this.scara_props.L1**2)-(this.scara_props.L2**2))/(2*this.scara_props.L1*R))) * 180 / Math.PI\n            scara_pos.a2 = (gamma - scara_pos.hand * Math.acos((R**2 + (this.scara_props.L2**2)-(this.scara_props.L1**2))/(2*this.scara_props.L2*R))) * 180 / Math.PI\n            if (isNaN(scara_pos.a1) || isNaN(scara_pos.a2)) {\n                error = \"ERROR: Conversion failed - GCODE results in NaNs!\"\n                console.log(error, next_pos, scara_pos, this.valid_point(x, y));\n                return undefined\n            }\n            if(scara_pos.a1 >= 180 || scara_pos.a1 <= -180) {\n                error = \"ERROR: Conversion failed: GCODE falls outside useable work area!\"\n                console.log(error, next_pos, scara_pos);\n                return undefined\n            }    \n            let d1 = scara_pos.a2 + (180 - scara_pos.a1);\n            let d2 = 360 - d1;\n            if(Math.abs(d1) < 30 || Math.abs(d2) < 30) {\n                error = \"ERROR: Conversion failed: GCODE causes arms to cross!\"\n                console.log(error, next_pos, scara_pos, d1, d2);\n                return undefined\n            }\n            return scara_pos;\n        }\n        let scara_pos = cart_to_scara(next_pos.X!, next_pos.Y!);\n        if (scara_pos == undefined) {\n            scara_pos = cart_to_scara(next_pos.X!, next_pos.Y!, true);\n        }\n        if (scara_pos == undefined) {\n            this.error_reporter(error!);\n            throw error\n        }\n        // Round values\n        scara_pos.a1 = parseFloat(scara_pos.a1.toFixed(2));\n        scara_pos.a2 = parseFloat(scara_pos.a2.toFixed(2));\n        scara_pos.Z = next_pos.Z!;\n        scara_pos.E = next_pos.E!;\n        this.last_hand = scara_pos.hand;\n        return scara_pos;\n    };\n    cartesian_to_scara_feedrate(current_pos: EffectorPos, next_pos: EffectorPos, cartesian_feedrate: number) {\n        const a = this.scara_props.L1;\n        const b = this.scara_props.L2;\n        const handedness = this.pref_hand //FIX\n        const travel_dist = Math.sqrt((next_pos.X!-current_pos.X!)**2+(next_pos.Y!-current_pos.Y!)**2);\n        if(travel_dist === 0) return 0;\n        const x_dot = (next_pos.X!-current_pos.X!)/travel_dist*cartesian_feedrate // Linear velocity in the x direction\n        const y_dot = (next_pos.Y!-current_pos.Y!)/travel_dist*cartesian_feedrate // Linear velocity in the y direction\n        const c = Math.sqrt(current_pos.X!**2+current_pos.Y!**2) // Length of vector C (From shoulder to coord 1)\n        const c_dot = (current_pos.X!*x_dot+current_pos.Y!*y_dot)/Math.sqrt(current_pos.X!**2+current_pos.Y!**2) // Rate of change of the length of vector c\n        const omega_c = (current_pos.X!*y_dot-current_pos.Y!*x_dot)/c**2 // Angular rate of change of vector c\n        const omega_a = (omega_c - handedness*c_dot*(2*c**2*a-c**2-a**2+b**2)/(2*c**2*a**2) * Math.sqrt(1-(c**2+a**2-b**2)/(2*c*a))) // Angular rate of change of the upper arm\n        const omega_b = (omega_c + handedness*c_dot*(2*c**2*b-c**2-b**2+a**2)/(2*c**2*b**2) * Math.sqrt(1-(c**2+b**2-a**2)/(2*c*b))) // Angular rate of change of the forearm\n        const omega = Math.sqrt(omega_a**2+omega_b**2) // Sum the squares of the angular feedrates.\n        return parseFloat(Math.min(Math.abs(Math.round(omega) * 180 / Math.PI), this.scara_props.max_speed).toFixed(1));\n    };\n    interpolate(start: EffectorPos, end: EffectorPos, i: number, n: number): EffectorPos {\n        return {\n            X: (i*end.X! + (n - i) * start.X!) / n,\n            Y: (i*end.Y! + (n - i) * start.Y!) / n,\n            Z: (i*end.Z! + (n - i) * start.Z!) / n,\n            E: (i*end.E! + (n - i) * start.E!) / n,\n            F: this.feed_rate,\n        }\n    };\n    segmentize_cartesian_to_scara(start: EffectorPos, end: EffectorPos): ScaraPos[] {\n        const l = this.scara_distance(this.map_cartesian_to_scara(start), this.map_cartesian_to_scara(end))\n        if (l <= this.max_seg_length) {\n            return [this.map_cartesian_to_scara(end)]; \n        } else {\n            let n = Math.round(Math.ceil( l / this.max_seg_length))\n            return Array(n).fill(0).map((_: any, i: number) => {\n                return this.map_cartesian_to_scara(this.interpolate(start, end, i+1, n))\n            });\n        }\n    };\n    translate(pos: EffectorPos): EffectorPos {\n        let newPos = {...pos};\n        const hyp = Math.hypot(pos.X!, pos.Y!);\n        const hypAngle = Math.atan2(pos.Y!, pos.X!);\n        const newHypAngle = hypAngle+ this.skew;\n        newPos.X = pos.X! + this.x_offset;\n        newPos.Y= pos.Y! + this.y_offset;\n        return newPos;\n    };\n    plot_scara_move(next_cmd_str: string, current_pos: EffectorPos): [string[], EffectorPos] {\n        let cmd_list = [] as string[];\n        let next_cmd = gcodeParser.parseLine(next_cmd_str);\n        if (next_cmd.words.length === 0){\n            return [[], current_pos]; // Clean pure comment lines\n        } else {\n            if ((next_cmd.words[0][0] === \"G\" && [0, 1].includes(next_cmd.words[0][1])) || ![\"G\", \"M\"].includes(next_cmd.words[0][0])) {\n                let rapid = false;\n                if (next_cmd.words[0][0] === \"G\" && next_cmd.words[0][1] === 0) {\n                    rapid = true;\n                }\n                let next_pos = this.parse_gcode_move(next_cmd.words);\n                next_pos.Y = next_pos.Y! + this.inner_rad;\n                if (isNaN(next_pos.X!)) next_pos.X = current_pos.X;\n                if (isNaN(next_pos.Y!)) next_pos.Y = current_pos.Y;\n                if (isNaN(next_pos.Z!)) next_pos.Z = current_pos.Z;\n                if (isNaN(next_pos.E!)) next_pos.E = current_pos.E;\n                if (isNaN(next_pos.F!)) next_pos.F = current_pos.F;\n                // First command\n                if (next_pos.X === current_pos.X && next_pos.Y === current_pos.Y) {\n                    if (next_pos.Z !== current_pos.Z) {\n                        cmd_list.push(`G1 Z${next_pos.Z} F${next_pos.F}`)\n                    }\n                    return [cmd_list, next_pos]; \n                }\n                if ((current_pos.X === undefined && current_pos.Y === undefined) || rapid){\n                    const np = this.translate(current_pos);\n                    cmd_list.push(`G0 X${np.X} Y${np.Y} Z${np.Z} F${np.F}`)\n                    return [cmd_list, next_pos]; \n                }\n                else {\n                    const np = this.translate(current_pos);\n                    cmd_list.push(`G1 X${np.X} Y${np.Y} Z${np.Z} F${np.F}`)\n                    //cmd_list.push(`G1 X${final_scara_pos.a1} Y${final_scara_pos.a2} Z${final_scara_pos.Z} F${this.scara_props.max_speed}`)\n                    return [cmd_list, next_pos];\n                }\n            } else if(next_cmd.words[0][0] === \"G\" && next_cmd.words[0][1] === 92.1) {\n                return [[], {X: 0, Y: 0, Z: 0, E: 0, F: current_pos.F}]\n            }\n            return [[`(unable to parse line: ${next_cmd_str})`], current_pos]\n        }\n    };\n    convert_cartesian_to_scara(gcode_string: string): string {\n        gcode_string = gcode_string.replace(/[N]\\d+(?= [^G])/g, \"G1\");\n        gcode_string = gcode_string.replace(/[N]\\d+ /g, \"\");\n        let gcode_lines = gcode_string.split(\"\\n\");\n        let current_pos: EffectorPos = {X: undefined, Y: undefined, Z: 0, F: this.feed_rate};\n        let converted_gcode = gcode_lines.reduce((agg: string[], next_cmd: string) => {\n            let cmd_list: string[] = [];\n            [cmd_list, current_pos] = this.plot_scara_move(next_cmd, current_pos);\n            return agg.concat(cmd_list);\n        }, []);\n        return converted_gcode.join(\"\\n\");\n    };\n}","\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport {ScaraConverter} from \"@/ScaraConverter\";\r\n\r\nexport default Vue.extend({\r\n\tdata() {\r\n\t\treturn {\r\n            scara: new ScaraConverter()\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n        download_gcode(filename: string, gcode_string: string) {\r\n            var element = document.createElement('a');\r\n            element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(gcode_string));\r\n            element.setAttribute('download', filename);\r\n\r\n            element.style.display = 'none';\r\n            document.body.appendChild(element);\r\n\r\n            element.click();\r\n\r\n            document.body.removeChild(element);\r\n        },\r\n        load_gcode_file(file: File) {\r\n            const reader = new FileReader();\r\n            reader.onload = (ev: any) => {\r\n                this.download_gcode(`${file.name.replace(\".gcode\", \"\").replace(\".nc\", \"\")}_converted.gcode`, this.scara.convert_cartesian_to_scara(ev.target!.result));\r\n            };\r\n            reader.readAsText(file);\r\n        } \r\n\t},\r\n\tmounted() {\r\n\t\t\r\n\t},\r\n});\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SCARA.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SCARA.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SCARA.vue?vue&type=template&id=56b51dc2&scoped=true&\"\nimport script from \"./SCARA.vue?vue&type=script&lang=ts&\"\nexport * from \"./SCARA.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SCARA.vue?vue&type=style&index=0&id=56b51dc2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56b51dc2\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\ninstallComponents(component, {VFileInput})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-slider',{staticStyle:{\"padding\":\"10px 24px\"},attrs:{\"min\":\"-80\",\"max\":\"80\",\"thumb-label\":\"\",\"label\":\"Arm 1 Angle:\"},on:{\"input\":_vm.plotScara},model:{value:(_vm.a1),callback:function ($$v) {_vm.a1=$$v},expression:\"a1\"}}),_c('v-slider',{staticStyle:{\"padding\":\"10px 24px\"},attrs:{\"min\":\"-80\",\"max\":\"80\",\"thumb-label\":\"\",\"label\":\"Arm 2 Angle:\"},on:{\"input\":_vm.plotScara},model:{value:(_vm.a2),callback:function ($$v) {_vm.a2=$$v},expression:\"a2\"}}),_c('div',{staticStyle:{\"border\":\"1px dotted #222\"}},[_c('svg',{attrs:{\"width\":_vm.width,\"height\":_vm.height}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\nconst d3 = Object.assign({},\n    require(\"d3-selection\"),\n    require(\"d3-shape\"),\n    require(\"d3-scale\"),\n    require(\"d3-axis\"), \n    require(\"d3-array\"),\n    require(\"d3-scale-chromatic\"),\n);\n\nimport Vue from \"vue\";\nimport {ScaraConverter, ScaraProps, scara_default_props} from \"@/ScaraConverter\";\n\nexport default Vue.extend({\n    data() {\n        return {\n            a1: 0,\n            a2: 0,\n            width: 500,\n            height: 500,\n            padding: {top: 30, right: 30, bottom: 60, left: 60},\n            plot_area: {\n                width: 400, // in mm\n                height: 400, // in mm\n            }\n        };\n    },\n    methods: {\n        plotScara() {\n            const svg = d3.select(this.$el).select(\"svg\");\n            //d3.selectAll(\".davenport-tooltip\").remove();\n            svg.selectAll(\"*\").remove();\n            if (svg === undefined) return;\n            const plotArea = svg.append(\"g\");\n            plotArea.attr(\"width\", this.width - this.padding.left - this.padding.right)\n                .attr(\"height\", this.height - this.padding.top - this.padding.bottom)\n                .attr(\"transform\", \"translate(\" + this.padding.left + \",\" + this.padding.top + \")\")\n                .attr(\"class\", \"davenport-plot-area\");\n            // Add X axis\n            const xAxis = d3.scaleLinear()\n                .domain([0, this.plot_area.width])\n                .range([ 0, this.width - this.padding.left - this.padding.right ]);\n            plotArea.append(\"g\")\n                .attr(\"transform\", \"translate(0,\" + (this.height - this.padding.bottom - 10) + \")\")\n                .call(d3.axisBottom(xAxis));\n\n            // Add Y axis\n            const yAxis = (d3.scaleLinear() as any)\n                .domain([0, this.plot_area.height])\n                .range([this.height - this.padding.top - this.padding.bottom, 0]);\n            plotArea.append(\"g\")\n                .call(d3.axisLeft().scale(yAxis));\n\n            const a1_start_angle = 90;\n            const a2_start_angle = 90;\n            // Arm 1\n            let a1_x2 = (this.plot_area.width/2) + Math.cos((this.a1 + a1_start_angle)  * Math.PI / 180) * scara_default_props.L1;\n            let a1_y2 = Math.sin((this.a1 + a1_start_angle) * Math.PI / 180) * scara_default_props.L1;\n            plotArea.append(\"line\")\n                .attr(\"x1\", xAxis(this.plot_area.width/2)).attr(\"x2\", xAxis(a1_x2))\n                .attr(\"y1\", yAxis(0)).attr(\"y2\", yAxis(a1_y2))\n                .attr(\"stroke\", \"coral\").attr(\"stroke-width\", 20).attr(\"stroke-linecap\", \"round\")\n            // Arm 2\n            let a2_x2 = a1_x2 + Math.cos((this.a2 + a2_start_angle)  * Math.PI / 180) * scara_default_props.L2;\n            let a2_y2 = a1_y2 + Math.sin((this.a2 + a2_start_angle) * Math.PI / 180) * scara_default_props.L2;\n            plotArea.append(\"line\")\n                .attr(\"x1\", xAxis(a1_x2)).attr(\"x2\", xAxis(a2_x2))\n                .attr(\"y1\", yAxis(a1_y2)).attr(\"y2\", yAxis(a2_y2))\n                .attr(\"stroke\", \"teal\").attr(\"stroke-width\", 20).attr(\"stroke-linecap\", \"round\")\n\n        }\n    },\n    mounted() {\n        this.$nextTick(() => {\n            this.plotScara();\n        })\n    }\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScaraSim.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScaraSim.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ScaraSim.vue?vue&type=template&id=24f524aa&\"\nimport script from \"./ScaraSim.vue?vue&type=script&lang=ts&\"\nexport * from \"./ScaraSim.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSlider } from 'vuetify/lib/components/VSlider';\ninstallComponents(component, {VSlider})\n","import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport Home from \"@/views/Home.vue\";\nimport SCARA from \"@/views/SCARA.vue\";\nimport ScaraSim from \"@/components/ScaraSim.vue\"\n\nVue.use(VueRouter);\n\nconst routes = [\n\t{\n\t\tpath: \"/\",\n\t\tname: \"home\",\n\t\tcomponent: Home,\n\t},\n\t{\n\t\tpath: \"/scara\",\n\t\tname: \"SCARA\",\n\t\tcomponent: SCARA,\n\t},\n\t{\n\t\tpath: \"/sim\",\n\t\tname: \"sim\",\n\t\tcomponent: ScaraSim,\n\t},\n];\n\nconst router = new VueRouter({\n\tmode: \"history\",\n\tbase: process.env.BASE_URL,\n\troutes,\n});\n\nexport default router;\n","import Vue from \"vue\";\nimport Vuex from \"vuex\";\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n\tstate: {},\n\tmutations: {},\n\tactions: {},\n\tmodules: {}\n});\n","/* eslint-disable no-console */\n\nimport { register } from \"register-service-worker\";\n\nif (process.env.NODE_ENV === \"production\") {\n\tregister(`${process.env.BASE_URL}service-worker.js`, {\n\t\tready() {\n\t\t\tconsole.log(\"App is being served from cache by a service worker.\\n\" + \"For more details, visit https://goo.gl/AFskqB\");\n\t\t},\n\t\tregistered() {\n\t\t\tconsole.log(\"Service worker has been registered.\");\n\t\t},\n\t\tcached() {\n\t\t\tconsole.log(\"Content has been cached for offline use.\");\n\t\t},\n\t\tupdatefound() {\n\t\t\tconsole.log(\"New content is downloading.\");\n\t\t},\n\t\tupdated() {\n\t\t\tconsole.log(\"New content is available; please refresh.\");\n\t\t},\n\t\toffline() {\n\t\t\tconsole.log(\"No internet connection found. App is running in offline mode.\");\n\t\t},\n\t\terror(error) {\n\t\t\tconsole.error(\"Error during service worker registration:\", error);\n\t\t}\n\t});\n}\n","import Vue from \"vue\";\nimport Vuetify from \"vuetify\";\nimport \"vuetify/dist/vuetify.min.css\";\n\nVue.use(Vuetify);\n\nimport VuetifyToast from \"vuetify-toast-snackbar\";\nVue.use(VuetifyToast, {\n\tshowClose: false,\n\tcolor: \"#403e4d\",\n});\n\nexport default new Vuetify({\n\ttheme: { dark: true },\n});\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\nimport \"./registerServiceWorker\";\nimport vuetify from \"./plugins/vuetify\";\nimport drr from '@minogin/vue-drag-resize-rotate'\n\nVue.config.productionTip = false;\n\nVue.config.ignoredElements = [\n\t'a-scene',\n\t'a-assets',\n\t'a-sky',\n\t'a-camera',\n\t'a-cursor',\n\t'a-animation',\n\t'a-entity',\n\t'a-box',\n\t'a-cylinder',\n\t'a-plane'\n]\n\nVue.component('drr', drr)\n\nnew Vue({\n\trouter,\n\tstore,\n\tvuetify,\n\trender: h => h(App)\n}).$mount(\"#app\");\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&id=4afca754&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--20-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&id=4afca754&scoped=true&lang=css&\""],"sourceRoot":""}